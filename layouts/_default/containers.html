{{ partial "head.html" . }}
<style>
  :root {
    /* HERO */
    --MORKBLA: #195f8c; /* dark blue */
    --KLARBLA: #3c9bcd; /* clear blue */
    --ORANGE: #fa690f;
    --MOLNBLA: #e7eff3; /* cloud blue */
    --ink: var(--MORKBLA);
    --bg: var(--MOLNBLA);
    --radius: 14px;

    /* SCROLL CARD */
    --brand: #3c9bcd; /* KLARBLÅ – rubriker */
    --deep: #195f8c; /* MÖRKBLÅ – stöd */
    --accent: #fa690f; /* ORANGE – pil */
    --card: #f3f8fb;
    --shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
    --gap: 0;
    --pad: clamp(18px, 3vw, 32px);
    --stage-gap: 90vh; /* avstånd mellan steg-markörer */

    /* TABS */
    --card: #195f8c10;
    --muted: #6b7280;
    --line: rgba(0, 0, 0, 0.08);
    --line-2: rgba(0, 0, 0, 0.06);
    --accent: #007aff;
    --radius: 16px;
    --shadow: none;
    --tab-h: 42px;
    --dur: 260ms;
    --ease: cubic-bezier(0.25, 0.8, 0.3, 1);

    /* IKON box */
    --ink: #0a0a0a;
    --muted: #667085;
    --line: rgba(0, 0, 0, 0.18);
    --bg-top: #ffffff;
    --bg-bottom: #e7eff3; /* molnblå */
    --maxw: 1200px;
  }

  html,
  body {
    height: 100%;
    scroll-behavior: smooth;          /* keeps it silky */
    scroll-snap-type: y proximity;    /* try 'mandatory' if you want harder snaps */
    text-wrap: balance;
  }

  p {
    text-wrap: balance;
  }
  body {
    margin: 10%;
    font-family: var(--mon-font);
    background: var(--bg);
    color: var(--ink);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    font-size: clamp(3rem, 5vw, 6rem) !important;
    line-height: 1;
  }

  .wrap {
    max-width: 1200px;
    margin-inline: auto;
    padding: 22px clamp(16px, 4vw, 32px);
  }

/*@media (min-width: 1300px){
  .hero h1 {
    font-size: 5rem;
    line-height: 1;
  }
}*/
/* Top brand row */
.brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  letter-spacing: 0.2px;
  color: var(--MORKBLA);
}
.brand svg {
  display: block;
}
.brand span {
  font-size: 18px;
}
.brand img {
  width: auto;
}

/* Hero */
.hero {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 0;
  align-items: center;
  padding: clamp(20px, 5vh, 80px) 0 clamp(30px, 8vh, 120px);
}

.actions {
  margin: 20px 0;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 18px;
  border-radius: 999px;
  border: none;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.btn-primary {
  background: var(--cloud-blue);
  color: #fff;
  box-shadow: 0 6px 18px rgba(250, 105, 15, 0.25);
}
.btn-primary:hover {
  transform: translateY(-1px);
}
.btn-primary:active {
  transform: translateY(0);
}

.btn-link {
  background: transparent;
  color: var(--ORANGE);
  padding: 8px 0;
  border-radius: 8px;
}
.btn-link:hover {
  text-decoration: underline;
}

.btn svg {
  width: 18px;
  height: 18px;
  flex: 0 0 18px;
}

/* Right-side image with soft circle */
.hero-media {
  position: relative;
  min-height: 360px;
}
.hero-media::before {
  content: "";
  position: absolute;
  top: -10%;
  left: -10%;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: #dfe9ef; /* slightly deeper than MOLNBLÅ for contrast */
  z-index: -1;
}
.hero-media img {
  position: relative;
  z-index: 1;
  display: block;
  width: min(44vw, 520px);
  height: auto;
  object-fit: contain;
  filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.06));
  margin-left: auto; /* push to the right edge */
}

/* Accessibility focus */
a:focus-visible,
button:focus-visible {
  outline: 2px solid var(--KLARBLA);
  outline-offset: 2px;
}

/* Responsive */
@media (max-width: 980px) {
  .hero {
    grid-template-columns: 1fr;
    gap: 32px;
  }
  .hero-media {
    min-height: 280px;
  }
  .hero-media::before {
    top: -5%;
    left: 10%;
    width: auto;
    height: 50vw;
    aspect-ratio: 1;
    justify-content: center;
  }
  .hero-media img {
    margin-inline: auto;
    width: min(70vw, 520px);
  }
}

.big-graphics {
  width: clamp(300px, 40vw, 600px);
  margin: 10vw 0;
}

/* END - HERO*/

/* SCROLL BOX */
* {
  box-sizing: border-box;
}
html,
body {
  height: 100%;
}
h2,
h3 {
  font-family: "Hind", system-ui, -apple-system, Segoe UI, Roboto, Helvetica,
  Arial, sans-serif;
  font-weight: 300;
  margin: 0 0 0.35em;
}

/* === Scrollytelling wrapper (skapar höjd för steg) === */
.scrolly {
  position: relative;
  min-height: calc(var(--stage-gap) * 2.2);
  padding: 12vh 0;
}
.locked-section {
  position: sticky;
  top: 50%;
  transform: translateY(-50%);
}

/* === Sticky kapsel som ligger i mitten === */
.capsule {
  margin: 0 auto;
  aspect-ratio: 21/9;
  background: var(--card);
  border: 2px solid rgba(25, 95, 140, 0.12);
  border-radius: 60px;
  box-shadow: var(--shadow);
  overflow: hidden;
  display: grid;
  grid-template-columns: 1.05fr 1fr; /* vänster: bild, höger: text */
  gap: var(--gap);
  padding: var(--pad);
}

/* vänster – bildyta */
.figure {
  position: relative;
  border-radius: 0px;
  display: grid;
  place-items: center;
  overflow: hidden;
}
.figure img {
  width: 86%;
  height: auto;
  display: block;
  transition: opacity .25s ease;
  opacity: 1;
}

/* höger – textstack (alla callouts finns här men vi visar 1 åt gången) */
.right {
  position: relative;
  display: grid;
  align-content: center;
  padding-right: clamp(10px, 2vw, 24px);
}
.stack {
  min-height: 56%;
}
.callout {
  position: absolute;
  inset: 0 0 auto 0;
  opacity: 0;
  transform: translateY(12px);
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.callout.active {
  opacity: 1;
  transform: none;
}

.callout h3 {
  color: var(--brand);
  font-size: clamp(22px, 2.3vw, 30px);
}
.callout p {
  margin: 0.35rem 0 0;
  font-size: clamp(15px, 1.1vw + 0.55rem, 18px);
  max-width: 46ch;
}

/* pilar – ligger INUTI kapseln, absolut placerade från vänster mot höger */
.arrow {
  position: absolute;
  left: -85px; /* start approx. inne i bilden */
  max-width: 430px;
  height: 38px;
  pointer-events: none;
  opacity: 0;
  transform: translateX(-8px);
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.arrow.active {
  opacity: 1;
  transform: none;
}
/* vertikalt läge för varje pil */
.arrow[data-id="1"] {
  top: 0px;
}
.arrow[data-id="2"] {
  top: 0px;
}
.arrow[data-id="3"] {
  top: 0px;
}

.callout[data-step="1"] {
  top: 23%;
}
.callout[data-step="2"] {
  top: 45%;
}
.callout[data-step="3"] {
  top: 68%;
}

.arrow svg {
  width: 100%;
  height: 100%;
  display: block;
}
.arrow path {
  stroke: var(--accent);
  stroke-width: 8;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* steg-markörer (osynliga boxar som triggar bytena) */
.scrolly .stage {
  height: var(--stage-gap);
}

.stage[data-target="1"] {
  height: 10vh; /* try 35–50vh until it feels right */
}

/* rubrik ovanför */
.lead {
  text-align: center;
  margin: 8vh auto 10vh;
  max-width: 900px;
  padding: 0 20px;
}

/* === STICKY NAV – ligger i scrolly och hamnar alltid ovanför kapseln === */
.nav {
  position: sticky;
  z-index: 50;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: clamp(10px, 2.2vw, 24px);
  width: fit-content;
  margin: 0 auto 40px;
  padding: 8px;
  background: rgba(255, 255, 255, 0.85);
  border-radius: 999px;
}
.nav a {
  text-decoration: none;
  color: var(--deep);
  font-weight: 600;
  font-size: clamp(12px,2vw,17px);
  letter-spacing: 0.2px;
  padding: 8px 12px;
  border-radius: 999px;
}

.nav a:hover {
  background: rgba(60, 155, 205, 0.12);
  color: #0d3850;
}

.nav a.active {
  background: rgba(60, 155, 205, 0.12);
  color: #0d3850;
}

/* END - Scroll box */
/* TAb box */
* {
  box-sizing: border-box;
}
/* —— minimal, calm, “system” aesthetics —— */
:root {
}

.card {
  width: min(1136px, 100%);
  border-radius: var(--radius);
  background: var(--card);
  box-shadow: var(--shadow);
  border: 0px solid var(--line);
  overflow: clip;
  margin: auto;
}

.header {
  padding: 16px 18px 0;
}

.panel-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  border-bottom: 1px solid var(--line-2);
  padding: 0 2px;
}

.title {
  margin: 0;
  padding: 12px 10px;
  font-weight: 600;
  letter-spacing: 0.01em;
  font-size: clamp(18px, 2.2vw, 22px);
}

.tabs {
  margin-left: auto;
  position: relative;
  display: flex;
  gap: 4px;
}

.tab {
  appearance: none;
  border: 0;
  background: transparent;
  color: var(--muted);
  height: var(--tab-h);
  padding: 0 12px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 15px;
  font-weight: 500;
  letter-spacing: 0.01em;
  cursor: pointer;
  outline: none;
  position: relative;
  transition: color var(--dur) var(--ease);
}

.tab:hover {
  color: color-mix(in oklab, var(--ink), var(--muted) 40%);
}

.tab.is-active {
  color: var(--ink);
}

.indicator {
  position: absolute;
  left: 0;
  bottom: -1px;
  height: 2px;
  width: 0;
  border-radius: 2px;
  background: currentColor;
  color: var(--ink);
  transform: translateX(0);
  transition: transform var(--dur) var(--ease), width var(--dur) var(--ease);
  will-change: transform, width;
  pointer-events: none;
}

/* —— fixed-height stage —— */
#tabsBox .stage {
  position: relative;
  padding: 18px;
}

.tab-panel {
  position: absolute;
  inset: 18px; /* respect stage padding visually */
  overflow: auto;
  border-radius: 0;
  padding: 10px;
  margin: 0;
  color: color-mix(in oklab, var(--ink), var(--muted) 16%);
  line-height: 1.65;
  font-size: clamp(15px, 1.6vw, 17px);
  opacity: 0;
  transform: translateY(4px);
  pointer-events: none;
  transition: opacity var(--dur) var(--ease), transform var(--dur) var(--ease);
  will-change: opacity, transform;
  background: transparent;
}
.tab-panel.is-active {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.tab-panel h3 {
  margin: 0 0 8px;
}
.tab-panel p {
  margin: 0 0 12px;
}
.tab-panel ul {
  margin: 0;
  padding-left: 18px;
}
.tab-panel li {
  margin: 6px 0;
}

.cta {
  margin-top: 12px;
  height: 36px;
  padding: 0 14px;
  border-radius: 10px;
  border: 1px solid var(--line);
  background: linear-gradient(#fff, #f5f6f7);
  color: var(--ink);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  font-weight: 500;
  transition: transform var(--dur) var(--ease);
}
.cta:hover {
  transform: translateY(-1px);
}
@media (prefers-color-scheme: dark) {
  .cta {
    background: linear-gradient(#1a1d22, #13161b);
  }
}

.tab:focus-visible,
.cta:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

@media (max-width: 680px) {
  .panel-row {
    flex-wrap: wrap;
  }
  .tabs {
    width: 100%;
    order: 2;
    justify-content: space-between;
  }
  .tab {
    flex: 1 1 auto;
    min-width: 0;
  }
  .title {
    order: 1;
    width: 100%;
    padding-left: 2px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .indicator,
  .tab-panel {
    transition: none !important;
  }
}
/* END - TAB BOX */
/* IKON box */
.bullet-section {
  max-width: var(--maxw);
  margin: 10vw 0;
  padding: 48px 20px 64px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0;
  align-items: start;
}

.col {
  text-align: center;
  padding: 36px 28px 28px;
  position: relative;
  /* vertikal avdelare till vänster på kolumner 2 och 3 */
  border-left: 1px solid transparent;
}
.col + .col {
  border-left-color: var(--line);
}

.icon-wrap {
  width: 132px;
  height: 132px;
  margin: 0 auto 18px;
  border-radius: 50%;
  background: #fff;
  border: 2px solid rgba(0, 0, 0, 0.12);
  display: grid;
  place-items: center;
}
.icon-wrap i {
  font-size: 54px; /* triangelstorlek */
  line-height: 1;
  color: #000;
  transform: translateY(-2px); /* optisk centrering */
}

h3 {
  margin: 10px 0 10px;
  font-family: var(--h-font);
  font-weight: 300; /* Hind Light */
  font-size: 44px;
  letter-spacing: 0.2px;
}

/* Responsiv: stapla på smala skärmar */
@media (max-width: 900px) {
  .grid {
    grid-template-columns: 1fr;
  }
  .col {
    border-left: none;
    padding: 28px 12px 36px;
  }
  .col:not(:last-child) {
    border-bottom: 1px solid var(--line);
  }
  h3 {
    font-size: 36px;
  }
  .icon-wrap {
    width: 112px;
    height: 112px;
  }
  .icon-wrap i {
    font-size: 48px;
  }
}
/* modal */
.modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
}

/* Modal innehåll */
.modal-content {
  position: relative;
  margin: 5% auto;
  width: 80%;
  height: 80%;
  background: white;
  border-radius: 12px;
  overflow: hidden;
}

/* iframe fyller hela modal */
.modal-content iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Stängknapp */
.close {
  position: absolute;
  top: 10px; right: 20px;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
}
/* END modal */

.two-fields-div {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 40px;
  margin-bottom: 100px;

}
.first-fields-div {
  flex: 2;
  order: 1;
}

.second-fields-div {
  flex: 1;
  padding: 10%;
  order: 2;
}

@media (max-width: 500px) {
  .second-fields-div {
  padding: 0%;
}
}

.blue-box {
  padding: 5%;
  border-radius: 10px;
  background-color: #d1dfe9;
  color: #195f8c;
  font-weight: 600;
}

.blue-box a{
  font-weight: 600;
}

@media (max-width: 900px) {
  .capsule {
    display: flex !important;
    margin: 0 auto;
    aspect-ratio: 1;
    background: none;
    border: none;
    border-radius: 0px;
    box-shadow: none;
    padding: 0;
    overflow: visible;
    flex-direction: column;
  }
  .figure img {
    width: 100%;
    margin-bottom: 50px;
  }
  .arrow {
    display: none;
  }
  .locked-section {
    top: 40%;
  }
  .nav {
    gap: 0;
  }
}
</style>
</head>
<body>
  <div class="wrap">
    <!-- Brand -->
    <div class="brand" aria-label="Safespring">
    	<a href="/">
    		<img src="/img/logos/safespring_logotype_blue_svg.svg" width="140" height="30" alt="Safespring logotype">
    	</a>
    </div>

    <!-- Hero -->
    <section class="hero" aria-label="Kubernetes offering">
      <div class="hero-text">
        <h1>{{ .Title }}</h1>
        <p class="">
          {{ .Params.intro }}
        </p>

        <div class="actions">
          <a href="https://next.safespring.com/apps/calendar/appointment/y7t9DxxxCTrm" class="button">
            BOOK DEMO
          </a>
          <a class="text-button" href="#get-started">Get started</a>
        </div>
      </div>

      <div class="hero-media" aria-hidden="true">
        <img src="/img/people/safespring-p.png" alt="Safespring Cloud Experts" />
      </div>
    </section>
  </div>




  <div style="margin-top:200px;"></div>

  <div class="scrolly" id="scene">
    <!-- Sticky kapsel (ALLT inuti) -->
    <div class="locked-section">

      <nav class="nav" aria-label="Sektioner">
        <a href="#control">Control plane</a>
        <a href="#workers">Worker nodes</a>
        <a href="#infra">Infrastructure</a>
      </nav>

      <section class="capsule" aria-label="Kubernetes-kluster">
        <!-- Vänster: Bild -->
        <div class="figure">
          <img src="/img/graphics/safespring-container-platform-image-1.svg" alt="Kubernetes cluster schematic" />
        </div>

        <!-- Höger: Textstack -->
        <div class="right">
          <div class="stack">
            <article class="callout" data-step="1">
              <div class="arrow" data-id="1" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="82.203" height="52.006" viewBox="0 0 82.203 52.006">
                  <g id="Group_47" data-name="Group 47" transform="translate(-830 -9267.724)">
                    <line id="Line_12" data-name="Line 12" x2="66.441" transform="translate(835.5 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_13" data-name="Line 13" x2="19.055" y2="18.227" transform="translate(885.371 9275.5)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_14" data-name="Line 14" y1="18.227" x2="19.055" transform="translate(885.371 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                  </g>
                </svg>
              </div>
              <p><strong>Safespring’s Kubernetes clusters</strong> provide a managed control plane with different configurations. In a single node configuration the control plane is unmanaged, while other options are fully managed by Safespring.</p>
            </article>

            <article class="callout" data-step="2">
              <div class="arrow" data-id="2" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="82.203" height="52.006" viewBox="0 0 82.203 52.006">
                  <g id="Group_47" data-name="Group 47" transform="translate(-830 -9267.724)">
                    <line id="Line_12" data-name="Line 12" x2="66.441" transform="translate(835.5 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_13" data-name="Line 13" x2="19.055" y2="18.227" transform="translate(885.371 9275.5)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_14" data-name="Line 14" y1="18.227" x2="19.055" transform="translate(885.371 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                  </g>
                </svg>
              </div>
              <p><strong>Worker nodes</strong> are always customer-managed, but each runs as its own virtual machine sized from our flavor catalog. </p>
            </article>

            <article class="callout" data-step="3">
              <div class="arrow" data-id="3" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="82.203" height="52.006" viewBox="0 0 82.203 52.006">
                  <g id="Group_47" data-name="Group 47" transform="translate(-830 -9267.724)">
                    <line id="Line_12" data-name="Line 12" x2="66.441" transform="translate(835.5 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_13" data-name="Line 13" x2="19.055" y2="18.227" transform="translate(885.371 9275.5)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_14" data-name="Line 14" y1="18.227" x2="19.055" transform="translate(885.371 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                  </g>
                </svg>
              </div>
              <p><strong>The infrastructure layer</strong> is managed by Safespring on our own data centers. Safespring Compute is the core of the service.</p>
            </article>
          </div>
        </div>

        <!-- Pilar (ligger ovanpå och pekar horisontellt från bild mot text) -->
      </section>
    </div>
    <!-- Steg-markörer (osynliga, bara för scroll-logik) -->
    <div id="control" class="anchor"></div>
    <div class="stage" data-target="1"></div>

    <div id="workers" class="anchor"></div>
    <div class="stage" data-target="2"></div>

    <div id="infra" class="anchor"></div>
    <div class="stage" data-target="3"></div>
  </div>

<!--<script>
/* Kopplar scroll-position (stage-divar) till vad som visas inne i kapseln */
const stages  = [...document.querySelectorAll('.stage')];
const callouts = [...document.querySelectorAll('.callout')];
const arrows = [...document.querySelectorAll('.arrow')];

function activate(step){
  callouts.forEach(el => el.classList.toggle('active', +el.dataset.step === step));
  arrows.forEach(el => el.classList.toggle('active', +el.dataset.id === step));
}

const links = {
  1: document.querySelector('.nav a[href="#control"]'),
  2: document.querySelector('.nav a[href="#workers"]'),
  3: document.querySelector('.nav a[href="#infra"]')
};

function highlight(step) {
  Object.values(links).forEach(link => link.classList.remove('active'));
  links[step]?.classList.add('active');
}

const io = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      const step = +entry.target.dataset.target;
      activate(step);     // visar rätt callout/pil
      highlight(step);    // markerar rätt nav-länk
    }
  });
},{threshold:0.55});

stages.forEach(s => io.observe(s));

/* Sätt initialt steg (1) */
activate(1);
</script>-->

<style>
  /* ==== Safespring palette (customize if needed) ==== */
  :root{
    --list-text: #195f8c;                         /* text-color */
    --list-icon: #417DA5;                         /* icon-color */
    --list-icon-circle: #195f8c20;                /* icon-circle-color (with alpha) */
    /* Fallback if 8-digit hex isn't supported */
    --list-icon-circle-fallback: rgba(25,95,140,.125);
  }

/* ==== Base list styling ==== */
.modern-list{
  /* remove default bullets and spacing */
  list-style: none;
  margin: 0;
  padding: 0;

  /* bold, modern type */
  font-weight: 700;
  font-size: clamp(15px, 0.9rem + 0.1vw, 18px);
  line-height: 1.45;
  color: var(--list-text);
}

/* space between items */
.modern-list > li{
  margin: 0 0 12px 0;
}

/* ===== OPTION A: Plain list with an inline <i> icon =====
   <ul class="modern-list">
     <li><i class="fa-solid fa-check"></i> Your text…</li>
   </ul>
*/
.modern-list > li{
  display: grid;
  grid-template-columns: 40px 1fr;
  gap: 12px;
  align-items: center;
}

/* icon circle */
.modern-list > li > i{
  width: 36px;
  height: 36px;
  display: grid;
  place-items: center;
  border-radius: 50%;
  background: var(--list-icon-circle, var(--list-icon-circle-fallback));
  color: var(--list-icon);
  font-size: 18px;                /* FA icon size */
  line-height: 1;
}

/* text column */
.modern-list > li > :not(i){
  align-self: center;
}

/* Placera SVG som overlay inne i heron */
.hero--with-arrow{
  position: relative;
}
.arrow-layer{
  position: absolute;
  inset: 0;              /* täck hela sektionen */
  width: 100%;
  height: 100%;
  pointer-events: none;  /* klick ska gå igenom */
}

/* Gör "källpunkten" exakt runt S:et/tecknet du valt */
.arrow-src{
  position: relative;
  display: inline-block;
  color: inherit;                /* ser ut som rubriken */
}

/* Valfritt: göm pilen på väldigt små skärmar */
@media (max-width: 720px){
  .arrow-layer{ display:none; }
}
</style>

<section class="two-fields-div hero hero--with-arrow" id="get-started">
  <div class="first-fields-div hero-text">
    <h1>Get started with Safespring Kubernete<span class="arrow-src" aria-hidden="true">s</span></h1>
    <div style="margin:50px 0;">
      <ul class="fa-ul modern-list">
        <li><i class="fa-solid fa-check"></i> Spin up clusters quickly</li>
        <li><i class="fa-solid fa-check"></i> Stay compliant with EU security and jurisdictional requirements</li>
        <li><i class="fa-solid fa-check"></i> Scale from a single project to multiple managed clusters</li>
      </ul>
    </div>
    <p class="blue-box">Prefer to talk first? You can always <a href="https://next.safespring.com/apps/calendar/appointment/y7t9DxxxCTrm">book a demo</a> instead.</p>
  </div>
<svg class="arrow-layer" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
  <defs>
    <!-- Chevron head that matches the line thickness -->
    <marker id="chevHead"
            viewBox="0 0 20 20"
            refX="18" refY="10"
            markerWidth="4" markerHeight="4"
            orient="auto"
            markerUnits="strokeWidth">
      <polyline points="9,2 18,10 9,18"
                fill="none"
                stroke="#FA690F"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="5"/>
    </marker>
  </defs>

  <!-- Set stroke in *pixels* (non-scaling), with round ends/joins -->
  <path id="arrowPath"
        d=""
        fill="none"
        stroke="#FA690F"
        stroke-linecap="round"
        stroke-linejoin="round"
        style="vector-effect: non-scaling-stroke; stroke-width: 4px;"
        marker-end="url(#chevHead)"/>
</svg>

<div class="second-fields-div hero-form">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.js"></script>
  <style>
    .twitter-typeahead .tt-hint {
      color: #6B7C93;
    }

    .twitter-typeahead {
      width: 100%;
    }

    .twitter-typeahead .tt-menu {
      background-color: #d7e3eb;
      max-height: 300px;
      overflow: auto;
      border: 1px solid #99b6cb;
      border-radius: 20px 20px;
      width: 100%;
      margin-top: -9px;
    }

    .twitter-typeahead .tt-suggestion {
      padding: 10px 20px;
      color: #4B5562;
      border-bottom: .5px solid #99b6cb;
    }

    .twitter-typeahead .tt-suggestion:hover {
      background-color: #F6F9FB;
      color: #000;
    }
    /* Formulärcontainer */
    form {
      width: min(100%, 500px);
    }

    /* Rubriker */
    h2 {
      font-size: 1.5rem;
      font-weight: 500;
      margin-top: 20px;
      margin-bottom: 10px;
    }

    /* Textfält och andra inputfält */
    .form-field {
      position: relative;
      margin-bottom: 15px;
      width: 100%;
    }

    .iti {
      display: flex !important;
    }

    .iti--allow-dropdown input {
      padding-left: 65px !important;
    }
    .form-field label {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      left: 25px;
      pointer-events: none;
      font-size: 16px;
      font-weight: 400;
      transition: all 0.2s ease;
      background-color: transparent;
      padding: 0 8px;
      margin: 0 -8px;
      font-family: 'Montserrat';
      line-height: 16px;
      color: var(--middle-blue-color);
    }

    .form-field input[type="text"],
    .form-field input[type="email"],
    .form-field input[type="tel"],
    .form-field select {
      width: 100%;
      line-height: 16px;
      padding: 10px;
      border: solid 0.5px var(--main-color);
      border-radius: 100px;
      box-sizing: border-box;
      font-size: 16px;
      color: var(--main-color);
      padding: 15px 25px;
      background-color: transparent;
      font-family: 'Montserrat';

    }

    .form-field input[type="text"]:focus,
    .form-field input[type="email"]:focus,
    .form-field input[type="tel"]:focus,
    .form-field select:focus {
      outline: none;
      box-shadow: none;
      border: solid 0.5px var(--main-color) !important;       
    }

    .form-field input[type="text"]:valid ~ label,
    .form-field input[type="email"]:valid ~ label,
    .form-field input[type="tel"]:valid ~ label,
    .form-field select:valid ~ label {
      transform: translateY(-205%);
      -webkit-transform: translateY(-205%);
      color: #3C9BCD;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);;
      border-radius: 100px;
    }

    .form-field input[type="text"]:focus ~ label,
    .form-field input[type="email"]:focus ~ label,
    .form-field input[type="tel"]:focus ~ label,
    .form-field select:focus ~ label {
      transform: translateY(-205%);
      -webkit-transform: translateY(-205%);
      color: #3C9BCD;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);
      border-radius: 100px;
    }

    .form-field:has(input:focus) > label,
    .form-field:has(input:valid) > label,
    .form-field:has(.twitter-typeahead input:focus) > label,
    .form-field:has(.twitter-typeahead input:valid) > label {
      transform: translateY(-205%);
      -webkit-transform: translateY(-205%);
      color: #3C9BCD;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);
      border-radius: 100px;
    }

    /* Visa fel först efter att användaren interagerat med fältet */
#up-email-input:user-invalid {
  border-color: red !important;
}

/* Flytta/tona labeln röd när fel */
.form-field:has(#up-email-input:user-invalid) > label {
  color: red;
  transform: translateY(-205%);
  background: var(--cloud-blue-color);
  font: 400 12px/16px 'Hind';
  letter-spacing: .5px;
  border-radius: 100px;
}

/* Ta bort fel så fort det blir giltigt igen */
#up-email-input:user-valid {
  border-color: var(--main-color) !important;
}
.form-field:has(#up-email-input:user-valid) > label {
  color: #3C9BCD;
}

    .iti__selected-flag {
      padding: 0 6px 0 25px !important;
      border-radius: 500px 0 0 500px;
    }

    .phone-input {
      padding-left: 65px !important;
    }

    .active-input label {
      transform: translateY(-205%);
      -webkit-transform: translateY(-205%);
      color: #3C9BCD;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);
      border-radius: 100px;
    } 

    .form-field.invalid.has-content input {
      border-color: red;
    }

    .form-field.invalid.has-content label {
      transform: translateY(-205%);
      -webkit-transform: translateY(-205%);
      color: red;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);
      border-radius: 100px;
    }

    select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .selection-icon {
      position: absolute;
      right: 11px;
      top: 8px;
      padding: 10px 9px 6px 9px;
      border-radius: 100px;
      background-color: var(--cloud-blue-color);
      color: var(--middle-blue-color);
      z-index: -2;
    }

    /* Checkboxar */
    .form-field label {
      display: block;
      margin-bottom: 10px;
    }

    .form-field input[type="checkbox"] {
      margin-right: 10px;
      transform: translateY(2px);
    }

    .form-field.has-content label {
      color: #3C9BCD;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);;
    }

    .form-field.has-content.invalid label {
      color: red;
      font: 400 12px/16px 'Hind';
      letter-spacing: 0.5px;
      background-color: var(--cloud-blue-color);
    }
    #email-domain-warning {
      display:none; margin-top:-20px; color:#e74c3c;
      font:600 12px/16px var(--mon-font);
      text-align: center;
    }
  </style>
  <script>
    jQuery(document).ready(function() {
      var matchClientsTimeout = null;
      var matchClients = function(q, sync, cb) {
        if (matchClientsTimeout) {
          clearTimeout(matchClientsTimeout);
        }
        matchClientsTimeout = setTimeout(function() {
          $.ajax({
            type: "GET",
            url: "https://power.upsales.com/api/external/prospecting/clientSearch?country=SE&country=NO&country=DK&country=FI&country=GB&country=BE&country=FR&country=IE&country=IT&country=LU&country=NL&country=DE&country=AT&name=" + q,
            success: function(res) {
              cb(res.data);
            },
            error: function(res) {},
          });
        }, 200);
      };
      var getSuggestTemplate = function(c) {
        return "<div><div>" + c.name + "</div><span style='color: #6B7C93; font-size: 10px;'>" + c.city + "</span></div>";
      };
      var nameField = jQuery("#up-client-name-input");
      if (nameField.length) {
        var selectedClientName = "";
        var dunsField = jQuery("<input type='hidden' name='Client.dunsNo' />");
        var spinner = jQuery("<b id='up-client-spinner'><svg class='spinner' viewBox='0 0 50 50'><circle class='path' cx='25' cy='25' r='20' fill='none' stroke-width='5'></circle></svg></b>");
        spinner.css("display", "none");
        nameField.after(dunsField);
        nameField.after(spinner);
        nameField.typeahead({
          hint: true,
          highlight: true,
          minLength: 3
        }, {
          name: "clients",
          limit: 25,
          source: matchClients,
          templates: {
            suggestion: getSuggestTemplate
          }
        }).bind("typeahead:autocompleted", function(ev, client) {
          nameField.typeahead("val", client.name);
          dunsField.val(client.dunsNo);
          selectedClientName = client.name;
          nameField.blur();
        }).bind("typeahead:select", function(ev, client) {
          nameField.typeahead("val", client.name);
          dunsField.val(client.dunsNo);
          selectedClientName = client.name;
        }).bind("typeahead:cursorchange", function(ev, client) {
          if (client) {
            nameField.typeahead("val", client.name);
            dunsField.val(client.dunsNo);
            selectedClientName = client.name;
          }
        }).bind("typeahead:change", function(ev, value) {
          if (value !== selectedClientName) {
            dunsField.val("");
          }
        }).on("typeahead:asyncrequest", function() {
          spinner.css("display", "inline");
        }).on("typeahead:asynccancel typeahead:asyncreceive", function() {
          spinner.css("display", "none");
        });
      }
    });
  </script>
  <script type="text/javascript">
    function openTerms(id) {
      var terms = {
        "1": "",
        "2": "",
"3": null,
"4": null
};
var preview = window.open("", "", "height=700,width=800,scrollbars=yes,resizable=yes,toolbar=no,status=no,menu=no,titlebar=no,location=no,addressbar=no");
var html = "<head><meta charset=\"UTF-8\"><style>body {margin: 0; padding: 20px;color: #333;font-family: Helvetica;font-size: 14px;}</style></head><body>" + terms[id] + "</body>";
preview.document.write(html);
}
</script>
<form id="up-form" name="form_9549u4d6655796cf741c5aab400e441c49e50" action="https://power.upsales.com/api/external/formSubmit" method="POST">
  <!-- <div class="column-two"> -->
    <div class="form-field">
      <input maxlength="512" type="text" placeholder="" id="up-firstname-input" autocomplete="given-name" name="Contact.firstname" required="required">
      <label for="name"><i class="fas fa-user"></i>&nbsp;&nbsp;&nbsp;First name</label>
    </div>
    <div class="form-field">
      <input maxlength="512" type="text" placeholder="" id="up-lastname-input" autocomplete="family-name" name="Contact.lastname" required="required">
      <label for="name"><i class="fas fa-user"></i>&nbsp;&nbsp;&nbsp;Last name</label>
    </div>
    <!-- </div> -->
    <!-- <div class="column-two"> -->
      <div class="active-input form-field">
        <input maxlength="512" type="text" placeholder="" name="Contact.cellPhone">
        <label for="phone"><i class="fas fa-mobile-screen-button"></i>&nbsp;&nbsp;&nbsp;Mobile phone</label>
      </div>
      <div class="email form-field">
        <input maxlength="512" type="email" placeholder="" pattern="^[a-zA-Z0-9.!#$%&amp;’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+){1,}$" title="Please enter a valid email" id="up-email-input" autocomplete="email" name="Contact.email" required="required">
        <label for="email"><i class="fas fa-envelope"></i>&nbsp;&nbsp;&nbsp;Email</label>
      </div>
          <small id="email-domain-warning">
        Please use your work email.
    </small>
      <!-- </div> -->
      <div class="form-field">
        <input maxlength="512" type="text" placeholder="" id="up-client-name-input" autocomplete="organization" name="Client.name" required="required">
        <label for="organization"><i class="fas fa-briefcase"></i>&nbsp;&nbsp;&nbsp;Company</label>
      </div>
      <!-- REQUIRED FIELDS -->
      <input type="hidden" name="formCid" value="9549">
      <input type="hidden" name="formId" value="9549u4d6655796cf741c5aab400e441c49e50">
      <input type="hidden" name="isFrame" value="false">
      <input type="text" value="" name="validation" style="display: none;">
      <!-- END OF REQUIRED FIELDS -->
      <div class="submit-button"><button class="button pt-1 pb-1 cta-start" type="submit">Start onboarding</button></div>
    </form>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.1/css/intlTelInput.css" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.1/js/intlTelInput.min.js"></script>
    <script>
      (function () {
        var phoneFields = document.querySelectorAll('input[name*=phone], input[name*=Phone]');
        Array.prototype.forEach.call(phoneFields, function (el) {
          window.hasPhoneFields = true;

          el.iti = window.intlTelInput(el, {
            preferredCountries: [],
            initialCountry: 'auto',
            utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.1/js/utils.js',
            geoIpLookup: function (success) {
              var xhr = new XMLHttpRequest();
              xhr.open('GET', 'https://power.upsales.com/api/external/whereAmI');
              xhr.onload = function () {
                try {
                  if (xhr.status !== 200) return success('');
                  var txt = xhr.responseText || '';
            // Om endpointen ibland returnerar en HTML-sida, baila ut
                  if (txt.includes('no-js')) return success('');
                  var data = JSON.parse(txt);
            // Anpassa till vad API:t faktiskt returnerar:
            // ex: { data: "SE" } eller { countryCode: "SE" }
                  var cc = (data && (data.data || data.countryCode || '')).toString().toLowerCase();
                  success(cc || '');
                } catch (e) {
                  success('');
                }
              };
              xhr.onerror = function(){ success(''); };
              xhr.send();
            }
          });
        });
      })();
    </script>
    <script>
      !function(){var t=document.getElementById("up-form");t&&t.addEventListener("submit",function(t){var e=t.target.querySelector("button[type=submit]");e&&(e.disabled=!0)})}();
    </script>
    <script>
      function onSubmit(e){var t;"function"!=typeof window._bEmValid||!0===window.__validEmail?validateForm(e,"https://www.safespring.com/container-thanks/"):(e.preventDefault(),t=setInterval(function(){void 0!==window.__validEmail&&(clearInterval(t),!0===window.__validEmail)&&validateForm(e,"https://www.safespring.com/container-thanks/")},300))}function validateForm(e,t){e.preventDefault();e=document.getElementsByName("formId")[0].value;for(var n=(e=document.forms["form_"+e]).querySelectorAll("input, textarea, select"),o=0;o<n.length;o++)"text"===n[o].type&&(n[o].value=n[o].value.trim());var a=e.querySelectorAll("input[name*=phone], input[name*=Phone]");if([].forEach.call(a,function(e){e.iti&&(e.value=e.iti.getNumber())}),void 0===window.grecaptcha||""!==window.grecaptcha.getResponse()){var l=[];for(o=0;o<n.length;o++)"checkbox"===n[o].type?l.push(n[o].name+"="+encodeURIComponent(n[o].checked?n[o].value:"off")):l.push(n[o].name+"="+encodeURIComponent(n[o].value));a=l.join("&");var s=(a+="&isAjax=true",window._paq||null),i=new XMLHttpRequest;i.open("POST",e.action),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(a),i.onload=function(){var e,n;200===i.status?t?(s&&s.push&&s.push(["trackLink","https://post.upsales.com/"+i.responseText,"link"]),"undefined"!=typeof _uaq&&_uaq("form="+i.responseText),setTimeout(function(){window.top.location.href=t},333)):(e=document.getElementById("up-form"),n=document.getElementById("up-form-thanks"),e.style.display="none",n.style.display="block",s&&s.push&&s.push(["trackLink","https://post.upsales.com/"+i.responseText,"link"]),_uaq&&_uaq("form="+i.responseText)):console.log("AJAX ERROR",i.status)}}else e=document.getElementById("recaptcha-error"),a=document.getElementsByClassName("g-recaptcha"),e.style.display="none",a&&a.length&&console.log("handle this later")}var form=document.getElementById("up-form");form.addEventListener("submit",onSubmit);
    </script>
      <script>
    // Globala init: sätt custom-validation + hoppa över Ajax om invalid
    document.addEventListener("DOMContentLoaded", function(){
      const personalDomains = [
        'gmail.com','hotmail.com','yahoo.com','icloud.com','outlook.com','live.com','live.no','live.se','aol.com','simplelogin.com', 'msn.com', 'nespf.com'
      ];
      const emailField = document.querySelector("#up-email-input");
      const warning    = document.querySelector("#email-domain-warning");
      const form       = document.querySelector("#up-form");

      // 1) Varje input: sätt customValidity om personlig domän
      emailField.addEventListener("input", function(){
        const parts = emailField.value.trim().toLowerCase().split("@");
        if(parts.length===2 && personalDomains.includes(parts[1])){
          warning.style.display = "block";
          emailField.setCustomValidity(
            'Please use your work email.'
          );
        } else {
          warning.style.display = "none";
          emailField.setCustomValidity("");
        }
      });

      // 2) Submit: kolla validity innan din Ajax körs
      form.addEventListener("submit", function(e){
        if(!form.checkValidity()){
          e.preventDefault();
          warning.style.display = "block";
          return;
        }
        // Om valid: gå vidare till onSubmit (Ajax)
        onSubmit(e);
      });
    });
  </script>
  </div>
  <script>// Ritar en kurvad pil mellan .arrow-src och .cta-start
(function(){
  const startMargin = 8;   // move away from the S
  const endMargin   = 12;  // move away from the button
  const section = document.querySelector('.hero--with-arrow');
  const srcEl   = section?.querySelector('.arrow-src');
  const dstEl   = section?.querySelector('.cta-start');
  const svg     = section?.querySelector('.arrow-layer');
  const path    = section?.querySelector('#arrowPath');
  if(!section || !srcEl || !dstEl || !svg || !path) return;

  function updateArrow(){
    // bbox relativt viewport
    const sec = section.getBoundingClientRect();
    const s   = srcEl.getBoundingClientRect();
    const d   = dstEl.getBoundingClientRect();

    // konvertera till SVG-procent (0–100) inom sektionen
    const toPct = (x, y) => ({
      x: ((x - sec.left) / sec.width) * 100,
      y: ((y - sec.top)  / sec.height) * 100
    });

    // källpunkt: mitten av tecknet (S/K)
    const p1 = toPct(s.right + startMargin, s.top + s.height/2);

    // målpunkt: vänsterkant mitt på knappen
    const p2 = toPct(d.left - endMargin, d.top + d.height/2);

    // kontrollpunkter för mjuk kurva (justera “bow” med bend)
    const bend = Math.min(30, Math.max(12, (p2.x - p1.x) * 0.35)); // 12–30%
    const c1 = { x: p1.x + bend, y: p1.y - 3 };  // lite uppåt från källan
    const c2 = { x: p2.x - bend, y: p2.y - 4 };  // lite uppåt före mål

    const dAttr = `M ${p1.x},${p1.y} C ${c1.x},${c1.y} ${c2.x},${c2.y} ${p2.x},${p2.y}`;
    path.setAttribute('d', dAttr);
  }

  // uppdatera vid layoutändring
  const ro = new ResizeObserver(updateArrow);
  ro.observe(document.body);
  window.addEventListener('load', updateArrow, {once:true});
  window.addEventListener('resize', updateArrow);
  window.addEventListener('scroll', updateArrow, {passive:true});

  // Om rubriken laddar webfont: liten timeout för säker bbox
  setTimeout(updateArrow, 150);
})();</script>
</section>





<article class="card" id="tabsBox" aria-label="Tabbed content">
  <header class="header">
    <div class="panel-row" role="tablist" aria-label="Sections">
      <h2 class="title" id="boxTitle">Overview</h2>

      <div class="tabs" id="tabs">
        <button class="tab is-active" id="tab-1" role="tab" aria-selected="true" aria-controls="panel-1" tabindex="0">Overview</button>
        <button class="tab" id="tab-2" role="tab" aria-selected="false" aria-controls="panel-2" tabindex="-1">Features</button>
        <button class="tab" id="tab-3" role="tab" aria-selected="false" aria-controls="panel-3" tabindex="-1">Pricing</button>
        <span class="indicator" aria-hidden="true"></span>
      </div>
    </div>
  </header>

  <!-- Fixed-height stage; panels are stacked and cross-faded -->
  <section class="stage" id="stage">
    <div class="tab-panel is-active" id="panel-1" role="tabpanel" aria-labelledby="tab-1">
      <h3>Secure, simple, self-service</h3>
      <p>Spin up clusters on demand, manage lifecycle with ease, and stay compliant with EU regulations.</p> 
      <ul><li>You own the cluster,</li><li>We manage the complexity.</li></ul>
    </div>

    <div class="tab-panel" id="panel-2" role="tabpanel" aria-labelledby="tab-2" aria-hidden="true">
      <ul>
        <li>Cluster Overview
          <ul><li>Select talos Linux base (more info)</li>
            <li>Select kubernetes version (2 * Elastic Ips)</li></ul>
          </li>
          <li>Access:
            <ul><li>Base domain `*.apps.<domain>.paas.safedc.net`
              <li>Each cluster comes in isolated Openstack</li></ul>
            </li>
            <li>Project/Environment
              <ul><li>Access can be configured with IDP or by admins</li></ul>
            </li>
          </ul>
        </div>

        <div class="tab-panel" id="panel-3" role="tabpanel" aria-labelledby="tab-3" aria-hidden="true">
          <h3>Predictable pricing, no hidden costs</h3>
          <ul>
            <li><strong>Managed control plane:</strong> 4,900 SEK/month (SLA, support, guidance included).</li>
            <li><strong>Workers:</strong> pay only for chosen VM flavors. Full management available on request.</li>
          </ul><p></p>
          <p><span style="font-style:italic;">Looking for full management? For customers who want Safespring to manage both control plane and workers, a fully managed cluster can be offered on request.</p>
            <a class="cta" href="#" role="button">View license</a>
          </div>
        </section>
      </article>





      <style>
        :root{
          --ink:#0a0a0a;
          --muted:#667085;
          --line: rgba(0,0,0,.18);
          --bg-top:#ffffff;
          --bg-bottom:#E7EFF3; /* molnblå */
          --maxw:1200px;

          /* Safespring-typsnitt */
          --h-font:"Hind", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
          --p-font:"Montserrat", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        }

        .bullet-section{
          max-width: var(--maxw);
          margin: 10vw 0;
          padding: 48px 20px 64px;
        }

        .grid{
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 0;
          align-items: start;
        }

        .col{
          text-align: center;
          padding: 36px 28px 28px;
          position: relative;
          /* vertikal avdelare till vänster på kolumner 2 och 3 */
          border-left: 1px solid transparent;
        }
        .col + .col{
          border-left-color: var(--line);
        }

        .icon-wrap{
          width: 132px;
          height: 132px;
          margin: 0 auto 18px;
          border-radius: 50%;
          background: #fff;
          border: 2px solid rgba(0,0,0,.12);
          display: grid;
          place-items: center;
        }
        .icon-wrap i{
          font-size: 54px; /* triangelstorlek */
          line-height: 1;
          color: #000;
          transform: translateY(-2px); /* optisk centrering */
        }

        h3{
          margin: 10px 0 10px;
          font-family: var(--h-font);
          font-weight: 300; /* Hind Light */
          font-size: 44px;
          letter-spacing: .2px;
        }

        /* Responsiv: stapla på smala skärmar */
        @media (max-width: 900px){
          .grid{ grid-template-columns: 1fr; }
          .col{ border-left: none; padding: 28px 12px 36px; }
          .col:not(:last-child){ border-bottom: 1px solid var(--line); }
          h3{ font-size: 36px; }
          .icon-wrap{ width: 112px; height: 112px; }
          .icon-wrap i{ font-size: 48px; }
        }
      </style>
      <section class="bullet-section">
        <div class="grid">
          <!-- 1. Tailored -->
          <article class="col">
            <div class="icon-wrap" aria-hidden="true">
              <!-- Triangel: Font Awesome caret-up -->
              <i class="fa-solid fa-caret-up"></i>
            </div>
            <h3>Tailored</h3>
            <p>
              Start with a dedicated cluster that can scale with your needs, and grow
              to multiple managed clusters.
            </p>
          </article>

          <!-- 2. Compliant -->
          <article class="col">
            <div class="icon-wrap" aria-hidden="true">
              <i class="fa-solid fa-caret-up"></i>
            </div>
            <h3>Compliant</h3>
            <p>
              Safeguard data with full compliance to EU security and jurisdictional
              requirements.
            </p>
          </article>

          <!-- 3. Cloud -->
          <article class="col">
            <div class="icon-wrap" aria-hidden="true">
              <i class="fa-solid fa-caret-up"></i>
            </div>
            <h3>Cloud</h3>
            <p>
              Scale your cloud native application as your business grows with
              competitive, pay-as-you-go pricing.
            </p>
          </article>
        </div>
      </section>
      <div id="myModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <iframe src="https://next.safespring.com/apps/calendar/appointment/y7t9DxxxCTrm"></iframe>
        </div>
      </div>

      <script>
        const modal = document.getElementById("myModal");
        const btn = document.getElementById("openModal");
        const closeBtn = document.querySelector(".close");

        btn.onclick = function(e) {
          e.preventDefault();
          modal.style.display = "block";
        }

        closeBtn.onclick = function() {
          modal.style.display = "none";
        }

        window.onclick = function(e) {
          if (e.target == modal) {
            modal.style.display = "none";
          }
        }
      </script>

      <script>
        (() => {
  /* === SCROLLYTELLING NAV / CAPSULE === */
          const scrollyEl = document.querySelector('#scene');
          const stages = [...scrollyEl.querySelectorAll('.stage')];
          const callouts = [...document.querySelectorAll('.callout')];
          const arrows = [...document.querySelectorAll('.arrow')];
          const figureImg = document.querySelector('.figure img');
          const imgMap = {
            1: { src: '/img/graphics/safespring-container-platform-image-1.svg', alt: 'Control plane' },
            2: { src: '/img/graphics/safespring-container-platform-image-2.svg', alt: 'Worker nodes' },
            3: { src: '/img/graphics/safespring-container-platform-image-3.svg', alt: 'Infrastructure' }
          };

          Object.values(imgMap).forEach(({src}) => { const i = new Image(); i.src = src; });

          function activate(step){
            callouts.forEach(el => el.classList.toggle('active', +el.dataset.step === step));
            arrows.forEach(el   => el.classList.toggle('active', +el.dataset.id   === step));

            const next = imgMap[step];
            if (next && figureImg && figureImg.getAttribute('src') !== next.src) {
              figureImg.style.opacity = '0';
              requestAnimationFrame(() => {
                figureImg.src = next.src;
                figureImg.alt = next.alt;
                requestAnimationFrame(() => { figureImg.style.opacity = '1'; });
              });
            }
          }

          const links = {
            1: document.querySelector('.nav a[href="#control"]'),
            2: document.querySelector('.nav a[href="#workers"]'),
            3: document.querySelector('.nav a[href="#infra"]')
          };

          function highlight(step) {
            Object.values(links).forEach(link => link.classList.remove('active'));
            links[step]?.classList.add('active');
          }

          const io = new IntersectionObserver((entries)=>{
            entries.forEach(entry=>{
              if(entry.isIntersecting){
                const step = +entry.target.dataset.target;
                activate(step);     
                highlight(step);    
              }
            });
          },{threshold:0.55});

          stages.forEach(s => io.observe(s));
  activate(1); // initialt

  // Smooth scroll på nav-klick
  document.querySelector('.nav').addEventListener('click', (e)=>{
    const a = e.target.closest('a[href^="#"]');
    if(!a) return;
    e.preventDefault();
    const id = a.getAttribute('href').slice(1);
    const map = { control: 1, workers: 2, infra: 3 };
    const stage = document.querySelector(`.stage[data-target="${map[id]}"]`);
    stage?.scrollIntoView({behavior:'smooth', block:'start'});
  });

  /* === TABS === */
  const root = document.getElementById('tabsBox');
  if (root) {
    const title = root.querySelector('#boxTitle');
    const tabsWrap = root.querySelector('#tabs');
    const tabs = Array.from(root.querySelectorAll('.tab'));
    const panels = Array.from(root.querySelectorAll('.tab-panel'));
    const indicator = root.querySelector('.indicator');
    const stage = root.querySelector('#stage');

    let active = Math.max(0, tabs.findIndex(t => t.classList.contains('is-active')));

    function fixStageHeight(){
      const prev = panels.map(p => p.style.visibility);
      panels.forEach(p => { p.style.visibility = 'hidden'; p.classList.add('is-active'); });
      const tallest = Math.max(...panels.map(p => p.scrollHeight));
      panels.forEach((p,i) => {
        p.style.visibility = prev[i] || '';
        if (i !== active) p.classList.remove('is-active');
      });
      stage.style.height = tallest + 36 + 'px';
    }

    function placeIndicator(i){
      const t = tabs[i];
      const tb = t.getBoundingClientRect();
      const rb = tabsWrap.getBoundingClientRect();
      indicator.style.width = tb.width + 'px';
      indicator.style.transform = `translateX(${tb.left - rb.left}px)`;
    }

    function setStates(i){
      tabs.forEach((t,idx) => {
        const on = idx === i;
        t.classList.toggle('is-active', on);
        t.setAttribute('aria-selected', String(on));
        t.tabIndex = on ? 0 : -1;
      });
      panels.forEach((p,idx) => {
        const on = idx === i;
        p.classList.toggle('is-active', on);
        p.toggleAttribute('aria-hidden', !on);
      });
      title.textContent = tabs[i].textContent.trim();
    }

    function activateTab(i){
      if (i === active) return;
      const run = () => {
        setStates(i);
        placeIndicator(i);
        active = i;
      };
      if (document.startViewTransition &&
          !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.startViewTransition(run);
    } else {
      run();
    }
  }

  function initTabs(){
    fixStageHeight();
    setStates(active);
    placeIndicator(active);
  }
  window.addEventListener('load', initTabs);
  if (document.readyState === 'complete') initTabs();

  tabs.forEach((t,i) => t.addEventListener('click', () => activateTab(i)));

  tabsWrap.addEventListener('keydown', (e) => {
    const k = e.key;
    let next = active;
    if (k === 'ArrowRight' || k === 'ArrowDown'){ next = (active + 1) % tabs.length; e.preventDefault(); }
    else if (k === 'ArrowLeft' || k === 'ArrowUp'){ next = (active - 1 + tabs.length) % tabs.length; e.preventDefault(); }
    else if (k === 'Home'){ next = 0; e.preventDefault(); }
    else if (k === 'End'){ next = tabs.length - 1; e.preventDefault(); }
    if (next !== active){ tabs[next].focus(); activateTab(next); }
  });

  const ro = new ResizeObserver(() => {
    placeIndicator(active);
    fixStageHeight();
  });
  ro.observe(tabsWrap);
  ro.observe(stage);

  setTimeout(() => { placeIndicator(active); fixStageHeight(); }, 250);
  setTimeout(() => { placeIndicator(active); fixStageHeight(); }, 800);
}
})();
</script>


</body>
</html>