{{ partial "head.html" . }}
<style>
  :root {
    /* HERO */
    --MORKBLA: #195f8c; /* dark blue */
    --KLARBLA: #3c9bcd; /* clear blue */
    --ORANGE: #fa690f;
    --MOLNBLA: #e7eff3; /* cloud blue */
    --ink: var(--MORKBLA);
    --bg: var(--MOLNBLA);
    --radius: 14px;

    /* SCROLL CARD */
    --brand: #3c9bcd; /* KLARBLÅ – rubriker */
    --deep: #195f8c; /* MÖRKBLÅ – stöd */
    --accent: #fa690f; /* ORANGE – pil */
    --card: #f3f8fb;
    --shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
    --gap: 0;
    --pad: clamp(18px, 3vw, 32px);
    --stage-gap: 90vh; /* avstånd mellan steg-markörer */

    /* TABS */
    --card: #195f8c10;
    --muted: #6b7280;
    --line: rgba(0, 0, 0, 0.08);
    --line-2: rgba(0, 0, 0, 0.06);
    --accent: #007aff;
    --radius: 16px;
    --shadow: none;
    --tab-h: 42px;
    --dur: 260ms;
    --ease: cubic-bezier(0.25, 0.8, 0.3, 1);

    /* IKON box */
    --ink: #0a0a0a;
    --muted: #667085;
    --line: rgba(0, 0, 0, 0.18);
    --bg-top: #ffffff;
    --bg-bottom: #e7eff3; /* molnblå */
    --maxw: 1200px;
  }

  html,
  body {
    height: 100%;
    scroll-behavior: smooth;          /* keeps it silky */
    scroll-snap-type: y proximity;    /* try 'mandatory' if you want harder snaps */
  }
  body {
    margin: 10%;
    font-family: var(--mon-font);
    background: var(--bg);
    color: var(--ink);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    font-size: clamp(3rem, 5vw, 6rem) !important;
    line-height: 1;
  }

  .wrap {
    max-width: 1200px;
    margin-inline: auto;
    padding: 22px clamp(16px, 4vw, 32px);
  }

/*@media (min-width: 1300px){
  .hero h1 {
    font-size: 5rem;
    line-height: 1;
  }
}*/
/* Top brand row */
.brand {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  letter-spacing: 0.2px;
  color: var(--MORKBLA);
}
.brand svg {
  display: block;
}
.brand span {
  font-size: 18px;
}
.brand img {
  width: auto;
}

/* Hero */
.hero {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 0;
  align-items: center;
  padding: clamp(20px, 5vh, 80px) 0 clamp(30px, 8vh, 120px);
}

.actions {
  margin: 20px 0;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 18px;
  border-radius: 999px;
  border: none;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.btn-primary {
  background: var(--cloud-blue);
  color: #fff;
  box-shadow: 0 6px 18px rgba(250, 105, 15, 0.25);
}
.btn-primary:hover {
  transform: translateY(-1px);
}
.btn-primary:active {
  transform: translateY(0);
}

.btn-link {
  background: transparent;
  color: var(--ORANGE);
  padding: 8px 0;
  border-radius: 8px;
}
.btn-link:hover {
  text-decoration: underline;
}

.btn svg {
  width: 18px;
  height: 18px;
  flex: 0 0 18px;
}

/* Right-side image with soft circle */
.hero-media {
  position: relative;
  min-height: 360px;
}
.hero-media::before {
  content: "";
  position: absolute;
  top: -10%;
  left: -10%;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: #dfe9ef; /* slightly deeper than MOLNBLÅ for contrast */
  z-index: -1;
}
.hero-media img {
  position: relative;
  z-index: 1;
  display: block;
  width: min(44vw, 520px);
  height: auto;
  object-fit: contain;
  filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.06));
  margin-left: auto; /* push to the right edge */
}

/* Accessibility focus */
a:focus-visible,
button:focus-visible {
  outline: 2px solid var(--KLARBLA);
  outline-offset: 2px;
}

/* Responsive */
@media (max-width: 980px) {
  .hero {
    grid-template-columns: 1fr;
    gap: 32px;
  }
  .hero-media {
    min-height: 280px;
  }
  .hero-media::before {
    top: -5%;
    left: 10%;
    width: auto;
    height: 50vw;
    aspect-ratio: 1;
    justify-content: center;
  }
  .hero-media img {
    margin-inline: auto;
    width: min(70vw, 520px);
  }
}

.big-graphics {
  width: clamp(300px, 40vw, 600px);
  margin: 10vw 0;
}

/* END - HERO*/

/* SCROLL BOX */
* {
  box-sizing: border-box;
}
html,
body {
  height: 100%;
}
h2,
h3 {
  font-family: "Hind", system-ui, -apple-system, Segoe UI, Roboto, Helvetica,
  Arial, sans-serif;
  font-weight: 300;
  margin: 0 0 0.35em;
}

/* === Scrollytelling wrapper (skapar höjd för steg) === */
.scrolly {
  position: relative;
  min-height: calc(var(--stage-gap) * 2.2);
  padding: 12vh 0;
}
.locked-section {
  position: sticky;
  top: 50%;
  transform: translateY(-50%);
}

/* === Sticky kapsel som ligger i mitten === */
.capsule {
  margin: 0 auto;
  aspect-ratio: 21/9;
  background: var(--card);
  border: 2px solid rgba(25, 95, 140, 0.12);
  border-radius: 60px;
  box-shadow: var(--shadow);
  overflow: hidden;
  display: grid;
  grid-template-columns: 1.05fr 1fr; /* vänster: bild, höger: text */
  gap: var(--gap);
  padding: var(--pad);
}

/* vänster – bildyta */
.figure {
  position: relative;
  border-radius: 0px;
  display: grid;
  place-items: center;
  overflow: hidden;
}
.figure img {
  width: 86%;
  height: auto;
  display: block;
  transition: opacity .25s ease;
  opacity: 1;
}

/* höger – textstack (alla callouts finns här men vi visar 1 åt gången) */
.right {
  position: relative;
  display: grid;
  align-content: center;
  padding-right: clamp(10px, 2vw, 24px);
}
.stack {
  min-height: 56%;
}
.callout {
  position: absolute;
  inset: 0 0 auto 0;
  opacity: 0;
  transform: translateY(12px);
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.callout.active {
  opacity: 1;
  transform: none;
}

.callout h3 {
  color: var(--brand);
  font-size: clamp(22px, 2.3vw, 30px);
}
.callout p {
  margin: 0.35rem 0 0;
  font-size: clamp(15px, 1.1vw + 0.55rem, 18px);
  max-width: 46ch;
}

/* pilar – ligger INUTI kapseln, absolut placerade från vänster mot höger */
.arrow {
  position: absolute;
  left: -85px; /* start approx. inne i bilden */
  max-width: 430px;
  height: 38px;
  pointer-events: none;
  opacity: 0;
  transform: translateX(-8px);
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.arrow.active {
  opacity: 1;
  transform: none;
}
/* vertikalt läge för varje pil */
.arrow[data-id="1"] {
  top: 0px;
}
.arrow[data-id="2"] {
  top: 0px;
}
.arrow[data-id="3"] {
  top: 0px;
}

.callout[data-step="1"] {
  top: 23%;
}
.callout[data-step="2"] {
  top: 45%;
}
.callout[data-step="3"] {
  top: 68%;
}

.arrow svg {
  width: 100%;
  height: 100%;
  display: block;
}
.arrow path {
  stroke: var(--accent);
  stroke-width: 8;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* steg-markörer (osynliga boxar som triggar bytena) */
.scrolly .stage {
  height: var(--stage-gap);
}

.stage[data-target="1"] {
  height: 10vh; /* try 35–50vh until it feels right */
}

/* rubrik ovanför */
.lead {
  text-align: center;
  margin: 8vh auto 10vh;
  max-width: 900px;
  padding: 0 20px;
}

/* === STICKY NAV – ligger i scrolly och hamnar alltid ovanför kapseln === */
.nav {
  position: sticky;
  z-index: 50;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: clamp(10px, 2.2vw, 24px);
  width: fit-content;
  margin: 0 auto 40px;
  padding: 8px;
  background: rgba(255, 255, 255, 0.85);
  border-radius: 999px;
}
.nav a {
  text-decoration: none;
  color: var(--deep);
  font-weight: 600;
  font-size: clamp(12px,2vw,17px);
  letter-spacing: 0.2px;
  padding: 8px 12px;
  border-radius: 999px;
}

.nav a:hover {
  background: rgba(60, 155, 205, 0.12);
  color: #0d3850;
}

.nav a.active {
  background: rgba(60, 155, 205, 0.12);
  color: #0d3850;
}

/* END - Scroll box */
/* TAb box */
* {
  box-sizing: border-box;
}
/* —— minimal, calm, “system” aesthetics —— */
:root {
}

.card {
  width: min(1136px, 100%);
  border-radius: var(--radius);
  background: var(--card);
  box-shadow: var(--shadow);
  border: 0px solid var(--line);
  overflow: clip;
  margin: auto;
}

.header {
  padding: 16px 18px 0;
}

.panel-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  border-bottom: 1px solid var(--line-2);
  padding: 0 2px;
}

.title {
  margin: 0;
  padding: 12px 10px;
  font-weight: 600;
  letter-spacing: 0.01em;
  font-size: clamp(18px, 2.2vw, 22px);
}

.tabs {
  margin-left: auto;
  position: relative;
  display: flex;
  gap: 4px;
}

.tab {
  appearance: none;
  border: 0;
  background: transparent;
  color: var(--muted);
  height: var(--tab-h);
  padding: 0 12px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 15px;
  font-weight: 500;
  letter-spacing: 0.01em;
  cursor: pointer;
  outline: none;
  position: relative;
  transition: color var(--dur) var(--ease);
}

.tab:hover {
  color: color-mix(in oklab, var(--ink), var(--muted) 40%);
}

.tab.is-active {
  color: var(--ink);
}

.indicator {
  position: absolute;
  left: 0;
  bottom: -1px;
  height: 2px;
  width: 0;
  border-radius: 2px;
  background: currentColor;
  color: var(--ink);
  transform: translateX(0);
  transition: transform var(--dur) var(--ease), width var(--dur) var(--ease);
  will-change: transform, width;
  pointer-events: none;
}

/* —— fixed-height stage —— */
#tabsBox .stage {
  position: relative;
  padding: 18px;
}

.tab-panel {
  position: absolute;
  inset: 18px; /* respect stage padding visually */
  overflow: auto;
  border-radius: 0;
  padding: 10px;
  margin: 0;
  color: color-mix(in oklab, var(--ink), var(--muted) 16%);
  line-height: 1.65;
  font-size: clamp(15px, 1.6vw, 17px);
  opacity: 0;
  transform: translateY(4px);
  pointer-events: none;
  transition: opacity var(--dur) var(--ease), transform var(--dur) var(--ease);
  will-change: opacity, transform;
  background: transparent;
}
.tab-panel.is-active {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.tab-panel h3 {
  margin: 0 0 8px;
}
.tab-panel p {
  margin: 0 0 12px;
}
.tab-panel ul {
  margin: 0;
  padding-left: 18px;
}
.tab-panel li {
  margin: 6px 0;
}

.cta {
  margin-top: 12px;
  height: 36px;
  padding: 0 14px;
  border-radius: 10px;
  border: 1px solid var(--line);
  background: linear-gradient(#fff, #f5f6f7);
  color: var(--ink);
  display: inline-flex;
  align-items: center;
  gap: 8px;
  text-decoration: none;
  font-weight: 500;
  transition: transform var(--dur) var(--ease);
}
.cta:hover {
  transform: translateY(-1px);
}
@media (prefers-color-scheme: dark) {
  .cta {
    background: linear-gradient(#1a1d22, #13161b);
  }
}

.tab:focus-visible,
.cta:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

@media (max-width: 680px) {
  .panel-row {
    flex-wrap: wrap;
  }
  .tabs {
    width: 100%;
    order: 2;
    justify-content: space-between;
  }
  .tab {
    flex: 1 1 auto;
    min-width: 0;
  }
  .title {
    order: 1;
    width: 100%;
    padding-left: 2px;
  }
}

@media (prefers-reduced-motion: reduce) {
  .indicator,
  .tab-panel {
    transition: none !important;
  }
}
/* END - TAB BOX */
/* IKON box */
.bullet-section {
  max-width: var(--maxw);
  margin: 10vw 0;
  padding: 48px 20px 64px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0;
  align-items: start;
}

.col {
  text-align: center;
  padding: 36px 28px 28px;
  position: relative;
  /* vertikal avdelare till vänster på kolumner 2 och 3 */
  border-left: 1px solid transparent;
}
.col + .col {
  border-left-color: var(--line);
}

.icon-wrap {
  width: 132px;
  height: 132px;
  margin: 0 auto 18px;
  border-radius: 50%;
  background: #fff;
  border: 2px solid rgba(0, 0, 0, 0.12);
  display: grid;
  place-items: center;
}
.icon-wrap i {
  font-size: 54px; /* triangelstorlek */
  line-height: 1;
  color: #000;
  transform: translateY(-2px); /* optisk centrering */
}

h3 {
  margin: 10px 0 10px;
  font-family: var(--h-font);
  font-weight: 300; /* Hind Light */
  font-size: 44px;
  letter-spacing: 0.2px;
}

/* Responsiv: stapla på smala skärmar */
@media (max-width: 900px) {
  .grid {
    grid-template-columns: 1fr;
  }
  .col {
    border-left: none;
    padding: 28px 12px 36px;
  }
  .col:not(:last-child) {
    border-bottom: 1px solid var(--line);
  }
  h3 {
    font-size: 36px;
  }
  .icon-wrap {
    width: 112px;
    height: 112px;
  }
  .icon-wrap i {
    font-size: 48px;
  }
}
/* modal */
.modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0; top: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
}

/* Modal innehåll */
.modal-content {
  position: relative;
  margin: 5% auto;
  width: 80%;
  height: 80%;
  background: white;
  border-radius: 12px;
  overflow: hidden;
}

/* iframe fyller hela modal */
.modal-content iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Stängknapp */
.close {
  position: absolute;
  top: 10px; right: 20px;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
}
/* END modal */
@media (max-width: 900px) {
  .capsule {
    display: flex !important;
    margin: 0 auto;
    aspect-ratio: 1;
    background: none;
    border: none;
    border-radius: 0px;
    box-shadow: none;
    padding: 0;
    overflow: visible;
    flex-direction: column;
  }
  .figure img {
    width: 100%;
    margin-bottom: 50px;
  }
  .arrow {
    display: none;
  }
  .locked-section {
    top: 40%;
  }
  .nav {
    gap: 0;
  }
}
</style>
</head>
<body>
  <div class="wrap">
    <!-- Brand -->
    <div class="brand" aria-label="Safespring">
    	<a href="/">
    		<img src="/img/logos/safespring_logotype_blue_svg.svg" width="140" height="30" alt="Safespring logotype">
    	</a>
    </div>

    <!-- Hero -->
    <section class="hero" aria-label="Kubernetes offering">
      <div class="hero-text">
        <h1>{{ .Title }}</h1>
        <p class="">
          {{ .Params.intro }}
        </p>

        <div class="actions">
          <a href="https://next.safespring.com/apps/calendar/appointment/y7t9DxxxCTrm" class="button">
            BOOK DEMO
          </a>
        </div>
      </div>

      <div class="hero-media" aria-hidden="true">
        <img src="/img/people/safespring-p.png" alt="Safespring Cloud Experts" />
      </div>
    </section>
  </div>




  <div style="margin-top:200px;"></div>

  <div class="scrolly" id="scene">
    <!-- Sticky kapsel (ALLT inuti) -->
    <div class="locked-section">

      <nav class="nav" aria-label="Sektioner">
        <a href="#control">Control plane</a>
        <a href="#workers">Worker nodes</a>
        <a href="#infra">Infrastructure</a>
      </nav>

      <section class="capsule" aria-label="Kubernetes-kluster">
        <!-- Vänster: Bild -->
        <div class="figure">
          <img src="/img/graphics/safespring-container-platform-image-1.svg" alt="Kubernetes cluster schematic" />
        </div>

        <!-- Höger: Textstack -->
        <div class="right">
          <div class="stack">
            <article class="callout" data-step="1">
              <div class="arrow" data-id="1" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="82.203" height="52.006" viewBox="0 0 82.203 52.006">
                  <g id="Group_47" data-name="Group 47" transform="translate(-830 -9267.724)">
                    <line id="Line_12" data-name="Line 12" x2="66.441" transform="translate(835.5 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_13" data-name="Line 13" x2="19.055" y2="18.227" transform="translate(885.371 9275.5)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_14" data-name="Line 14" y1="18.227" x2="19.055" transform="translate(885.371 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                  </g>
                </svg>
              </div>
              <p><strong>Safespring’s Kubernetes clusters</strong> provide a managed control plane with different configurations. In a single node configuration the control plane is unmanaged, while other options are fully managed by Safespring.</p>
            </article>

            <article class="callout" data-step="2">
              <div class="arrow" data-id="2" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="82.203" height="52.006" viewBox="0 0 82.203 52.006">
                  <g id="Group_47" data-name="Group 47" transform="translate(-830 -9267.724)">
                    <line id="Line_12" data-name="Line 12" x2="66.441" transform="translate(835.5 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_13" data-name="Line 13" x2="19.055" y2="18.227" transform="translate(885.371 9275.5)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_14" data-name="Line 14" y1="18.227" x2="19.055" transform="translate(885.371 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                  </g>
                </svg>
              </div>
              <p><strong>Worker nodes</strong> are always customer-managed, but each runs as its own virtual machine sized from our flavor catalog. </p>
            </article>

            <article class="callout" data-step="3">
              <div class="arrow" data-id="3" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" width="82.203" height="52.006" viewBox="0 0 82.203 52.006">
                  <g id="Group_47" data-name="Group 47" transform="translate(-830 -9267.724)">
                    <line id="Line_12" data-name="Line 12" x2="66.441" transform="translate(835.5 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_13" data-name="Line 13" x2="19.055" y2="18.227" transform="translate(885.371 9275.5)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                    <line id="Line_14" data-name="Line 14" y1="18.227" x2="19.055" transform="translate(885.371 9293.727)" fill="none" stroke="#fa690f" stroke-linecap="round" stroke-width="11"/>
                  </g>
                </svg>
              </div>
              <p><strong>The infrastructure layer</strong> is managed by Safespring on our own data centers. Safespring Compute is the core of the service.</p>
            </article>
          </div>
        </div>

        <!-- Pilar (ligger ovanpå och pekar horisontellt från bild mot text) -->
      </section>
    </div>
    <!-- Steg-markörer (osynliga, bara för scroll-logik) -->
    <div id="control" class="anchor"></div>
    <div class="stage" data-target="1"></div>

    <div id="workers" class="anchor"></div>
    <div class="stage" data-target="2"></div>

    <div id="infra" class="anchor"></div>
    <div class="stage" data-target="3"></div>
  </div>

<!--<script>
/* Kopplar scroll-position (stage-divar) till vad som visas inne i kapseln */
const stages  = [...document.querySelectorAll('.stage')];
const callouts = [...document.querySelectorAll('.callout')];
const arrows = [...document.querySelectorAll('.arrow')];

function activate(step){
  callouts.forEach(el => el.classList.toggle('active', +el.dataset.step === step));
  arrows.forEach(el => el.classList.toggle('active', +el.dataset.id === step));
}

const links = {
  1: document.querySelector('.nav a[href="#control"]'),
  2: document.querySelector('.nav a[href="#workers"]'),
  3: document.querySelector('.nav a[href="#infra"]')
};

function highlight(step) {
  Object.values(links).forEach(link => link.classList.remove('active'));
  links[step]?.classList.add('active');
}

const io = new IntersectionObserver((entries)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      const step = +entry.target.dataset.target;
      activate(step);     // visar rätt callout/pil
      highlight(step);    // markerar rätt nav-länk
    }
  });
},{threshold:0.55});

stages.forEach(s => io.observe(s));

/* Sätt initialt steg (1) */
activate(1);
</script>-->

<div class="two-fields-div">
  <div class="first-fields-div">
    <h2>hello</h2>
    <p>text</p>
  </div>
  <div class="second-fields-div">
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.js"></script>
<style>
  .twitter-typeahead .tt-hint {
    color: #6B7C93;
  }

  .twitter-typeahead .tt-menu {
    background-color: #fff;
    max-height: 300px;
    overflow: auto;
    border: 1px solid #66afe9;
    border-top: none;
    border-radius: 0 0 4px 4px;
    width: 100%;
    margin-top: -2px;
  }

  .twitter-typeahead .tt-suggestion {
    padding: 5px 10px;
    color: #4B5562;
  }

  .twitter-typeahead .tt-suggestion:hover {
    background-color: #F6F9FB;
    color: #000;
  }
  /* Formulärcontainer */
  form {
    width: min(100%, 500px);
  }

  /* Rubriker */
  h2 {
    font-size: 1.5rem;
    font-weight: 500;
    margin-top: 20px;
    margin-bottom: 10px;
  }

  /* Textfält och andra inputfält */
  .form-field {
    position: relative;
    margin-bottom: 15px;
    width: 100%;
  }

  .iti {
    display: flex !important;
  }

  .iti--allow-dropdown input {
    padding-left: 65px !important;
  }

  .form-field label {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    left: 25px;
    pointer-events: none;
    font-size: 16px;
    font-weight: 400;
    transition: all 0.2s ease;
    background-color: transparent;
    padding: 0 8px;
    margin: 0 -8px;
    font-family: 'Montserrat';
    line-height: 16px;
    color: var(--middle-blue-color);
  }

  .form-field input[type="text"],
  .form-field input[type="email"],
  .form-field input[type="tel"],
  .form-field select {
    width: 100%;
    line-height: 16px;
    padding: 10px;
    border: solid 0.5px var(--main-color);
    border-radius: 100px;
    box-sizing: border-box;
    font-size: 16px;
    color: var(--main-color);
    padding: 15px 25px;
    background-color: transparent;
    font-family: 'Montserrat';

  }

  .form-field input[type="text"]:focus,
  .form-field input[type="email"]:focus,
  .form-field input[type="tel"]:focus,
  .form-field select:focus {
    outline: none;
    box-shadow: none;
    border: solid 0.5px var(--main-color) !important;       
  }

  .form-field input[type="text"]:valid ~ label,
  .form-field input[type="email"]:valid ~ label,
  .form-field input[type="tel"]:valid ~ label,
  .form-field select:valid ~ label {
    transform: translateY(-205%);
    -webkit-transform: translateY(-205%);
    color: #3C9BCD;
    font: 400 12px/16px 'Hind';
    letter-spacing: 0.5px;
    background-color: var(--cloud-blue-color);;
    border-radius: 100px;
  }

  .form-field input[type="text"]:focus ~ label,
  .form-field input[type="email"]:focus ~ label,
  .form-field input[type="tel"]:focus ~ label,
  .form-field select:focus ~ label {
    transform: translateY(-205%);
    -webkit-transform: translateY(-205%);
    color: #3C9BCD;
    font: 400 12px/16px 'Hind';
    letter-spacing: 0.5px;
    background-color: var(--cloud-blue-color);
    border-radius: 100px;
  }

.form-field:has(input:focus) > label,
.form-field:has(input:valid) > label,
.form-field:has(.twitter-typeahead input:focus) > label,
.form-field:has(.twitter-typeahead input:valid) > label {
  transform: translateY(-205%);
  -webkit-transform: translateY(-205%);
  color: #3C9BCD;
  font: 400 12px/16px 'Hind';
  letter-spacing: 0.5px;
  background-color: var(--cloud-blue-color);
  border-radius: 100px;
}

  .iti__selected-flag {
    padding: 0 6px 0 25px !important;
    border-radius: 500px 0 0 500px;
  }

  .phone-input {
    padding-left: 65px !important;
  }

  .active-input label {
    transform: translateY(-205%);
    -webkit-transform: translateY(-205%);
    color: #3C9BCD;
    font: 400 12px/16px 'Hind';
    letter-spacing: 0.5px;
    background-color: var(--cloud-blue-color);
    border-radius: 100px;
  } 

  .form-field.invalid.has-content input {
    border-color: red;
  }

  .form-field.invalid.has-content label {
    transform: translateY(-205%);
    -webkit-transform: translateY(-205%);
    color: red;
    font: 400 12px/16px 'Hind';
    letter-spacing: 0.5px;
    background-color: var(--cloud-blue-color);
    border-radius: 100px;
  }

  select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
  }

  .selection-icon {
    position: absolute;
    right: 11px;
    top: 8px;
    padding: 10px 9px 6px 9px;
    border-radius: 100px;
    background-color: var(--cloud-blue-color);
    color: var(--middle-blue-color);
    z-index: -2;
  }

  /* Checkboxar */
  .form-field label {
    display: block;
    margin-bottom: 10px;
  }

  .form-field input[type="checkbox"] {
    margin-right: 10px;
    transform: translateY(2px);
  }

  .form-field.has-content label {
    color: #3C9BCD;
    font: 400 12px/16px 'Hind';
    letter-spacing: 0.5px;
    background-color: var(--cloud-blue-color);;
  }

  .form-field.has-content.invalid label {
    color: red;
    font: 400 12px/16px 'Hind';
    letter-spacing: 0.5px;
    background-color: var(--cloud-blue-color);
  }
</style>
<script>
  jQuery(document).ready(function() {
    var matchClientsTimeout = null;
    var matchClients = function(q, sync, cb) {
      if (matchClientsTimeout) {
        clearTimeout(matchClientsTimeout);
      }
      matchClientsTimeout = setTimeout(function() {
        $.ajax({
          type: "GET",
          url: "https://power.upsales.com/api/external/prospecting/clientSearch?country=SE&country=NO&country=DK&country=FI&country=GB&country=BE&country=FR&country=IE&country=IT&country=LU&country=NL&country=DE&country=AT&name=" + q,
          success: function(res) {
            cb(res.data);
          },
          error: function(res) {},
        });
      }, 200);
    };
    var getSuggestTemplate = function(c) {
      return "<div><div>" + c.name + "</div><span style='color: #6B7C93; font-size: 10px;'>" + c.city + "</span></div>";
    };
    var nameField = jQuery("#up-client-name-input");
    if (nameField.length) {
      var selectedClientName = "";
      var dunsField = jQuery("<input type='hidden' name='Client.dunsNo' />");
      var spinner = jQuery("<b id='up-client-spinner'><svg class='spinner' viewBox='0 0 50 50'><circle class='path' cx='25' cy='25' r='20' fill='none' stroke-width='5'></circle></svg></b>");
      spinner.css("display", "none");
      nameField.after(dunsField);
      nameField.after(spinner);
      nameField.typeahead({
        hint: true,
        highlight: true,
        minLength: 3
      }, {
        name: "clients",
        limit: 25,
        source: matchClients,
        templates: {
          suggestion: getSuggestTemplate
        }
      }).bind("typeahead:autocompleted", function(ev, client) {
        nameField.typeahead("val", client.name);
        dunsField.val(client.dunsNo);
        selectedClientName = client.name;
        nameField.blur();
      }).bind("typeahead:select", function(ev, client) {
        nameField.typeahead("val", client.name);
        dunsField.val(client.dunsNo);
        selectedClientName = client.name;
      }).bind("typeahead:cursorchange", function(ev, client) {
        if (client) {
          nameField.typeahead("val", client.name);
          dunsField.val(client.dunsNo);
          selectedClientName = client.name;
        }
      }).bind("typeahead:change", function(ev, value) {
        if (value !== selectedClientName) {
          dunsField.val("");
        }
      }).on("typeahead:asyncrequest", function() {
        spinner.css("display", "inline");
      }).on("typeahead:asynccancel typeahead:asyncreceive", function() {
        spinner.css("display", "none");
      });
    }
  });
</script>
<script type="text/javascript">
  function openTerms(id) {
    var terms = {
      "1": "<p dir=\"ltr\"><em>SAFESPRING 2018<br />\nInformation avseende personuppgiftsbehandling</em><br />\n<br />\n<br />\n<u><strong>Information</strong></u><br />\n<br />\nSafespring tar emot och lagrar uppgifterna som skrivs in i de kontaktformulär som finns på webbplatsen safespring.com och våra landningssidor där detta dokument finns i anslutning till formuläret. Det innebär att vi behandlar dina personuppgifter för att kunna komma i kontakt med dig, och/eller skapa användarkonton kopplade till våra tjänster (”Ändamålet”). De uppgifter vi behandlar för Ändamålet är normalt ditt namn, din e-mailadress, ditt telefonnummer, din titel och din arbetsgivare (”Personuppgifterna”). Blue Safespring AB, org. nr. 559075–0245, är personuppgiftsansvariga för behandlingen av Personuppgifterna.<br />\n<br />\nDen legala grunden för behandlingen av Personuppgifterna för Ändamålet är vårt berättigade intresse att på ett effektivt sätt kunna marknadsföra de tjänster vi erbjuder. Personuppgifterna lagras naturligtvis på ett säkert sätt i linje med vår affärsmodell och du har rätt att när som helst avregistrera dig från nyhetsbrevet och/eller ange att du inte vill bli kontaktad av oss. Vi kommer att behandla Personuppgifterna så länge du väljer att ta emot nyhetsbrevet. Då behandlingen upphör raderas Personuppgifterna.<br />\n<br />\nVi kan komma att dela Personuppgifterna med de tredje parter som vi anlitar för att uppnå Ändamålen, vilket kan vara t.ex. för extern lagring. En sådan tredje part kan vara belägen i ett land utanför EU/EES. Om Europakommissionen inte anser att landet säkerställer en adekvat skyddsnivå kommer överföringen till den tredje parten att ha stöd i kommissionens standardavtalsklausuler för överföring av personuppgifter till ett land utanför EU/EES, se artiklarna 45-46 i dataskyddsförordningen. Dessa standardavtalsklausuler finns åtkomliga här:&nbsp;<br />\nhttp://ec.europa.eu/justice/data-protection/international-transfers/transfer<br />\n<br />\nOm du har några frågor avseende vår behandling av Personuppgifterna, bör dessa ställas till oss via E-mailadress GDPR@safespring.com. Dessa kontaktuppgifter kan även användas om du önskar att utöva någon av dina rättigheter enligt dataskyddsförordningen (2016/679). Dessa rättigheter är inte absoluta och en begäran om utövande av rättigheterna resulterar därför inte alltid i någon åtgärd. Rättigheterna i dataskyddsförordningen inkluderar:<br />\n<br />\n<strong><em>Rätt till tillgång</em></strong> – Enligt artikel 15 i dataskyddsförordningen har du rätt att få tillgång till Personuppgifterna samt viss information rörande behandlingen av Personuppgifterna. Den informationen framgår av detta dokument.<br />\n<br />\n<strong><em>Rätt till rättelse</em></strong> – Enligt artikel 16 i dataskyddsförordningen har du rätt att få Personuppgifterna rättade om de är felaktiga och kompletterade om de är ofullständiga.&nbsp;<br />\n<br />\n<strong><em>Rätt till radering</em></strong> – Under vissa omständigheter har du enligt artikel 17 i dataskyddsförordningen rätt att få dina personuppgifter raderade. Detta är den så kallade ”rätten att bli bortglömd”.<br />\nRätt till begränsning av behandling – Under vissa omständigheter har du enligt artikel 18 i dataskyddsförordningen rätt att begränsa den behandling som vi vidtar.&nbsp;<br />\n<br />\n<strong><em>Rätt till dataportabilitet </em></strong>– Enligt artikel 20 i dataskyddsförordningen har du rätt att få ut dina personuppgifter (eller få dem överförda till en annan personuppgiftsansvarig) i ett strukturerat, allmänt använt och maskinläsbart format.<br />\n<br />\n<strong><em>Rätt att göra invändningar </em></strong>– Enligt artikel 21 i dataskyddsförordningen har du rätt att invända mot vårt berättigade intresse. I sådana fall kommer vi att upphöra med behandlingen av Personuppgifterna för Ändamålen. Safespring vill att du är medveten om rätten att göra invändningar då den enligt dataskyddsförordningen är en särskilt viktig rättighet.<br />\n<br />\nSlutligen har du rätt att inge klagomål till Datainspektionen, se kontaktuppgifter på nästa sida.\f<br />\n<br />\n<br />\n<strong><u>Kontaktinformation</u></strong><br />\n<br />\n<em>Safespring</em><br />\nGDPR@safespring.com<br />\n<br />\n<em>Datainspektionen</em><br />\ndatainspektionen@datainspektionen.se<br />\nTelefon: +46(0)‭8-657 61 00.‬</p>\n",
      "2": "Safespring 2018<br />\n<strong>General Terms and Conditions for Cloud Services </strong>&nbsp; <br />\n<br />\n<em>THE PARTIES UNDERTAKE TO PERFORM ALL THEIR RESPECTIVE OBLIGATIONS IN ACCORDANCE WITH THE AGREEMENT, AS SET OUT HEREIN.</em><br />\n<br />\n<br />\n<strong>01. Definitions</strong><br />\n<br />\nThe following terms and expressions shall in this Agreement when capitalized have the meanings assigned to them in this Section 1.<br />\n<br />\n“Agreement” - means these General Terms and Conditions, Service Specification, Service Order and any other agreement documents referred to in the Service Order.<br />\n<br />\n“Customer” – means the legal entity that has entered into the Agreement with Safespring. Also referred to as “Party”.<br />\n<br />\n“Customer Systems” – means the IT system(s) and facilities used by Customer to receive and use the Service at and from the Service Access Point, including all relevant computer systems and locations and any other equipment, software, hardware, internet-, telecom- or VPN connections, firmware, database file, or (electronic) documentation required to receive the Services.<br />\n<br />\n“Data” – means all the information, text drawings, diagrams, images or sounds (including and/or together with any databases made up of any of these) and other data which are embodied in any electronic magnetic, optical or tangible media, and which:&nbsp;<br />\nI.&nbsp;&nbsp; &nbsp;are owned by or relate to either Party’s business;&nbsp;<br />\nII.&nbsp;&nbsp; &nbsp;are supplied to one Party or on behalf of the other Party; or&nbsp;<br />\nIII.&nbsp;&nbsp; &nbsp;are generated, processed, stored or transmitted by a Party and/or a sub-contractor, on behalf of the other Party pursuant to this agreement.<br />\n<br />\n“Safespring” – means the Safespring-company that have entered into the Agreement with Customer. Also referred to as “Party”.<br />\n<br />\n“Safespring Systems” – means Safespring’s IT system(s), including all relevant computer systems and any other equipment, software, hardware, firmware, database file, or (electronic) documentation, used to produce the Services.<br />\n<br />\n“Professional Services” – means separately ordered consultancy services provided by Safespring on hourly rates and basis.<br />\n<br />\n“Service” – means the cloud services offered by Safespring and specified in the Service Specification attached to the Service Order.<br />\n<br />\n“Service Access Point” – means the physical connection point and technical interface specified by Safespring where Customer receives the Service.<br />\n<br />\n“Service Fee” – means the periodic fee for the Services (yearly or monthly) and the aggregated hourly fees for Professional Services, to be paid by Customer to Safespring.<br />\n<br />\n“Service Order” – means the request for Service made by Customer under this Agreement and duly signed by both Parties.<br />\n<br />\n“Service Recipient” – means a third-party company - other than the Customer - entitled to receive and use the Services.<br />\n<br />\n“Service Specification” – means the document attached to the Service Order describing the Service and applicable service levels.<br />\n<br />\n“Service Start Date” – means the date that the Services shall be available to Customer and from which date Safespring shall be entitled to charge the Service Fee. Service Start Date is specified in Service Order and if not, it shall be the date Safespring announces that the Service is ready for use.<br />\n<br />\n“Term” – means the term of the agreement as set forth in section 7.<br />\n<br />\n<br />\n<strong>02. Service requirements</strong><br />\n<br />\n<strong>2.1. GENERAL</strong><br />\nSafespring shall from Service Start Date and for the duration of the Agreement make the Services available at the Service Access Point.&nbsp;<br />\n<br />\nThe Services shall be delivered in accordance with the Service Specification. Safespring will use all best efforts and shall be entitled to<br />\nmaintain, bug fix and upgrade the Services with recent and up-to-date versions of Services and to remedy defects in Services.<br />\n<br />\nSafespring shall upon specific order provide the Professional Services in a workmanlike and professional manner according to good industry practice. All services shall be provided in a manner that complies with law and regulations applicable to Safespring in its capacity as a supplier of IT-services.<br />\n<br />\nSafespring shall take, implement and maintain up-to-date industry standard of technical and organizational measures<br />\nagainst any computer viruses and/or malicious and/or harmful software on the hardware and software used in the Safespring System.<br />\n<br />\nSafespring shall during the term of this Agreement hold and maintain appropriate insurance policies with reputable insurers in relation to its obligations under this Agreement.<br />\n<br />\n<br />\n<strong>03. Customer general obligations</strong><br />\n<br />\nThe Customer is responsible for the Customer System and that it has the capability to receive the Services at the Service Access Point.<br />\n<br />\nThe Customer shall, upon request, grant access to and provide Safespring with information about the Customer SysCloud to the extent relevant and required to set up, maintain and perform the Services.<br />\n<br />\nThe Customer shall comply with Safespring’s general security instructions and procedures for using the Services, provided that Safespring have made such instructions and procedures available to Customer in advance.<br />\n<br />\nThe Customer shall not permit any persons other than its authorized personnel and authorized users to access or use the Services or the Safespring System. The Customer will take all necessary precautions to prevent loss and alteration of Safespring System and data, to prevent introduction of viruses to Safespring System, and to prevent any unauthorized access.&nbsp;<br />\n<br />\nThe Customer must promptly provide Safespring with any and all details of which the Customer becomes aware of any unauthorized access, copying, modification or use of the Services and Safespring System.<br />\n<br />\nThe Customer acknowledge and accept that Safespring without any liability is entitled to temporarily suspend the provision of the Services, should Safespring in its professional discretion conclude that Customer’s (or any of its user’s) Data or access to the Service cause or impose, or may cause or impose a risk for, system failure, Service defects or a security threat to Safespring System or its Data therein.<br />\n<br />\n<br />\n<strong>04. Service fees and terms of payment</strong><br />\n<br />\nAll Service Fees are exclusive of VAT and other taxes and/or duties.<br />\n<br />\nAll Service Fees shall be adjusted yearly based on Labor Cost Index (LCI) for non-manual workers in the private sector, according to SNI 2007, Category J (information and communication companies), published by SCB in Sweden (Swe: Statistiska Centralbyrån).&nbsp;<br />\n<br />\nBase quarter for the adjustments shall be the third quarter 3 of the year specified by Safespring.<br />\n<br />\n<strong>4.1 Services</strong><br />\nThe Customer shall for the Services pay the Services Fee stated in the Service Order or otherwise as stated in Safespring’s general price list for cloud services.<br />\n<br />\nThe Service Fee shall be invoiced by Safespring quarterly in advance.<br />\nTerms of payment are thirty (30) days from date of invoice.<br />\n<br />\n<strong>4.2 Professional Services</strong><br />\nThe Customer shall for the Professional Services pay the Services Fee stated in the Service Order or otherwise as stated in Safespring’s general price list for consultancy services. The Service Fee for Professional Services shall be invoiced by Safespring on a monthly basis in arrears. Terms of payment<br />\nare thirty (30) days from date of invoice.<br />\n<br />\n<strong>4.3 Overdue Payments</strong><br />\nFor any overdue payments, Safespring shall have the right to charge a monthly interest of 2 percent based on the outstanding overdue balance.&nbsp;<br />\n<br />\nIf payment for Services is more than 60 days past due, Safespring may, without any liability whatsoever, terminate or suspend providing the affected services to the Customer upon 10 days prior written notice to the Customer.<br />\n<br />\n<br />\n<strong>05. Term and termination</strong><br />\n<br />\nThe Agreement shall enter into force when Service Order has been duly signed by both Parties and shall remain in force for an ‘initial agreement period’ of 3 years, unless the Service Order states another initial period.<br />\n<br />\nIf not terminated in writing by either Party no later than six (6) months prior to the end of the initial period (or extension period), the Agreement will be automatically extended for consecutive extension periods of one (1) year at the time.<br />\n<br />\nEither Party shall have the right to terminate the Agreement forthwith without liability to the other Party, by written notice to the other Party, if the other Party goes into liquidation, enters into composition proceedings with its creditors, becomes insolvent or is unable to pay its major debts or the majority of its debts or fails or admits in writing its inability to pay its major debts or the majority of its debts as they become due, makes a general assignment for the benefit of creditors or if a petition under bankruptcy or under any insolvency law is filed by or against the other Party and such petition filed by a third party is not dismissed within sixty (60) days (or such longer period agreed upon between the Parties) after it has been filed or a secured part takes possession of all or<br />\nsubstantially all of its assets and such process is not dismissed or restrained within thirty (30) days.<br />\n<br />\nEither Party shall have the right to terminate the Agreement forthwith without liability to the other Party, by written notice to the other Party, if the other Party commits a material breach of its obligations hereunder. However,<br />\nin case such a material breach is capable of being cured, neither Party shall be entitled to terminate the Agreement unless and until the other Party have failed to cure the material breach within thirty (30) days after the failing Party have been served with a notice requiring it to cure such a breach and stating the sending Party's intention to terminate the Agreement if compliance with the notice to cure is not met.<br />\n<br />\nThe expiration or termination of this Agreement shall not affect or prejudice any provisions of the Agreement which are expressly or by implication provided to continue in effect after such expiration or termination.<br />\n06. Force majeure<br />\nNeither Party shall be liable for non-performance or defective nor late performance of any of their obligations<br />\nhereunder to the extent that such non-performance, defective or late performance is due to causes and/or conditions outside of the performing Party’s reasonable control.<br />\n<br />\nCauses and/or conditions outside of a Party's reasonable control shall include, but not be limited to, acts of terrorism, strikes and other labor disputes, fire, explosions, floods, earthquakes, typhoons, epidemics, wars (whether declared or undeclared), government acts (including failure to act) (de jure or de facto), riots, revolutions, sabotage<br />\nor severe weather conditions which the Party claiming excuse could not have reasonably foreseen the effects of or made alternative arrangements for.<br />\n07. Limitation of liability<br />\nSafespring shall not be liable for any non or late performance or defective Service if this has been caused by Customers’ Data or Systems; non-compliance with the customer obligations; regular System maintenance activities announced by Safespring in advance; or emergency System maintenance activities which could not reasonably have been foreseen by Safespring or its third party program product developers.<br />\n<br />\n<em>SAFESPRING SHALL NOT BE LIABLE TO THE CUSTOMER IN CONNECTION WITH THE AGREEMENT FOR ANY INDIRECT OR CONSEQUENTIAL DAMAGES, INCLUDING BUT NOT LIMITED TO LOSS OF PRODUCTION, LOSS OF DATA, LOSS OF BUSINESS, LOSS OF INVESTMENT, LOSS OF REVENUE AND LOSS OF GOODWILL.</em><br />\n<br />\nSafespring’s aggregate and total liability in respect of any one or more events or series of events (whether connected or unconnected) occurring during the term of this Agreement shall per calendar year be limited to direct damages equal to fifty (50) percent of the Service Fees invoiced to the Customer during the calendar year preceding the year when the loss arose. If this Agreement has not been in force during an entire calendar year, the abovementioned amount shall be calculated over a twelve month period on the basis of the Service Fees already invoiced to the Customer during the calendar year in question.<br />\n<br />\nThe limitations of liability set forth herein shall not apply to any liability arising from death or injury to persons caused by negligence, any liability arising from intent or gross negligence, willful recklessness or fraud or any specific indemnification given in section 10 or any breach of the obligations as regards Confidential Information.<br />\n<br />\n<br />\n<strong>08. Confidential information</strong><br />\n<br />\nAll information (oral, visual and written) which is secret or confidential by its nature, by a restrictive legend or by other written or oral designation and is transferred or made available to the other Party under the Agreement or during negotiations before execution of the Agreement shall be treated by the receiving Party as confidential<br />\n(“Confidential Information”).<br />\n<br />\n<strong>The Parties agree:</strong><br />\nto maintain the confidentiality of such Confidential Information and not disclose the same to any third party, except as authorized by the original disclosing Party in writing; and<br />\nb) to restrict disclosure of Confidential Information to employees, consultants, subcontractors and the Customer’s group companies who have a “need to know”, provided that such third party has confirmed their adherence to a confidential undertaking which shall be no less restrictive than the undertaking set out in this section 8.<br />\n<br />\nConfidential Information shall be handled with the same degree of care that the receiving Party applies to its own Confidential Information but in no event less than reasonable care, and that Confidential Information is and shall at all times remain the property of the disclosing Party.&nbsp;<br />\n<br />\nNo use of Confidential Information is permitted except as expressly stated herein or as strictly required in performance of the Agreement or in receipt of the Services.<br />\n<br />\nHowever, each Party may disclose Confidential Information in accordance with judicial or governmental order, mandatory legal requirement or applicable mandatory Regulations, provided that the other Party is given reasonable prior notice to such disclosure, including the intended scope and content of such disclosure.<br />\n<br />\nThe Confidential Information shall be considered confidential for a period of five (5) years from the termination or expiration of the Agreement, as relevant.<br />\n09. Intellectual property rights<br />\nSafespring hereby grants the Customer a non-exclusive, nontransferable, license to use the Safespring Systems to receive and use the Services for internal purposes. The Customer shall not be entitled to resell, assign, (sub)license or lease the Services or act as service bureau for the Services to third parties unless the third party is listed as a Services Recipient in the Service Order.<br />\n<br />\nThe Safespring Data and Systems including but not limited to any derivatives, developments or modifications (upgrades,<br />\nupdates, fixes etc) thereof and the intellectual and industrial property rights therein, shall be and remain the exclusive property of Safespring or its subcontractors.&nbsp;<br />\n<br />\nAny results of the Professional Services created by Safespring under and during the performance of this Agreement, including any intellectual property rights in relation thereto, shall be the exclusive property of Safespring or its subcontractors.<br />\n<br />\nThe Customer Data and Systems including but not limited to any derivatives, developments or modifications (upgrades,<br />\nupdates, fixes etc) thereof and the Intellectual and industrial property rights therein, shall be and remain the exclusive property of the Customer or its suppliers.<br />\n<br />\nThe Customer grants Safespring a non-exclusive, non-transferable, license to use the Customer Data and Systems to perform the Services. Each Party is responsible for obtaining, at its own cost, all consents and licenses which it requires in order to enable it to perform its rights and obligations in accordance with this Agreement.<br />\n<br />\n&nbsp;In particular, the Customer warrants, and is solely liable for ensuring, that it has any and all necessary rights, consents and licenses to access and process any data provided to Safespring under this Agreement. In particular, Safespring warrants, and is solely liable for ensuring that it has any and all necessary rights, consents and licenses to perform and provide any Services to the Customer under this Agreement.<br />\n<br />\n<br />\n<strong>10. Indemnity</strong><br />\n<br />\nSafespring shall at its sole cost defend, indemnify and hold the Customer harmless from and against any and all damages, costs and expenses incurred as a result of any claim, suits, proceedings or litigation of any kind (actual or threatened) brought against the Customer based on the allegation<br />\nthat the access or use of the Safespring’s Systems in accordance with the terms of this Agreement constitutes an infringement of any intellectual and industrial property rights of such third party, subject to Safespring being authorized to manage and settle the claim, suit or proceeding or other right of action at its own discretion.<br />\n<br />\nThe Customer shall, at its sole cost, defend, indemnify and hold Safespring harmless from and against any and all damages, cost and expenses incurred as a result of any claims, suits or proceedings or litigation of any kind (actual or threatened) brought against Safespring based on the allegation that the access to or use of the Customer Data or Systems in accordance with the terms of this Agreement constitutes an infringement of any intellectual and industrial property rights of any third party.<br />\n<br />\nThe intellectual property indemnities as set out in this section, shall not apply to the degree and to the extent:<br />\n<br />\na)&nbsp;&nbsp; &nbsp;the claim arises out of breach of this Agreement by the Party entitled to be indemnified;<br />\n<br />\nb)&nbsp;&nbsp; &nbsp;the claim arises directly out of compliance by the indemnifying Party with a specification or instructions provided by the Party entitled to be indemnified; or<br />\n<br />\nc)&nbsp;&nbsp; &nbsp;the Party entitled to be indemnified has caused or materially and/or substantially contributed to the events which gave rise to the claim under the indemnity.<br />\n<br />\nEach Party shall notify the other Party as soon as it becomes aware of a third party claim or a potential claim that may be subject of an indemnity hereunder. The indemnifying Party shall without delay undertake all reasonable measures to rectify and remedy the infringing situation.<br />\n<br />\nIn case the infringement claim in the indemnifying Party’s reasonable discretion materially prevents it from fulfilling its obligations under the Agreement, it shall be entitled to terminate the Agreement without any further liability.<br />\n<br />\n<br />\n<strong>11. Data protection</strong><br />\n<br />\nIn the performance of this Agreement, Safespring may process personal data on behalf of the Customer. In relation to any such personal data, the Customer shall be the data controller and ensure that the processing is performed in accordance with applicable legislation in respect of data protection and security.<br />\n<br />\nIn the performance of this Agreement, the Customer may process personal data received from Safespring. In relation to<br />\nany such personal data, Safespring shall be the data controller and ensure that the processing is performed in accordance with applicable legislation in respect of data protection and security.<br />\n<br />\nEach Party shall be the data processor in relation to any personal data received from the other Party and shall only process the data in accordance with this Agreement and the written instructions of the other Party.&nbsp;<br />\n<br />\nIn relation to any personal data received from the other Party, each Party further undertakes to implement appropriate technical and organizational measures to protect the personal data in order to prevent unauthorized or unlawful processing of personal data and accidental loss of, or damage to, personal data, including but not limited to taking reasonable steps to ensure the reliability of employees having access to the personal data.<br />\n<br />\nEach Party undertake to only process personal data received from the other Party if necessary in order to perform or receive the Services and comply with any reasonable procedures or processes notified to such Party by the other Party with respect to personal data from time to time.<br />\n<br />\nEach Party shall notify the other Party without delay if it receives a request from a registered person to have access to that person’s personal data or compliant or request relating to the other Party’s obligations under any applicable law.<br />\nEach Party shall provide the other Party with reasonable cooperation and assistance, at the other Party’s expense, in relation to any compliant or request made under any<br />\napplicable law.<br />\n<br />\nA Party shall not without the prior written consent of the other Party process any personal data received from the other Party outside the European Economic Area. If such consent is granted, the Parties shall ensure that an agreement consisting of the relevant EU model clauses for the transfer of personal data to third countries is signed by the concerned entities.<br />\n<br />\n<br />\n<br />\n<strong>12. Subcontracting</strong><br />\n<br />\nSafespring may use subcontractors for the performance of its obligations under this Agreement. Safespring is fully responsible and liable for all acts (including omissions) of its subcontractors and shall cause each of its subcontractors to fully abide with all applicable obligations, terms and conditions of this Agreement.<br />\n<br />\n<br />\n<strong>13. Assignment</strong><br />\n<br />\nThe Agreement shall accrue to the benefit of and be binding upon the Parties hereto and any successor entity into which either Party shall have been merged or consolidated or to which either Party shall have sold or transferred all or substantially all its assets, but it shall not be otherwise assigned by either Party without the prior written consent of the other Party.&nbsp;<br />\n<br />\nThe Parties agree that any consent to a requested assignment shall not be unreasonably withheld or delayed. Safespring shall be entitled to assign this Agreement to any company within the Safespring group of companies.<br />\n<br />\n<br />\n<strong>14. No waiver</strong><br />\n<br />\nThe failure of either Party to insist, in one or more instances, upon the performance of any of the terms or conditions of the Agreement, or to exercise any right hereunder, shall not be construed as a waiver or relinquishment<br />\nof the future performance of any such terms or conditions or the future exercise of such right, and the obligation of Safespring or the Customer with respect to such future performance shall continue in full force and effect.<br />\n<br />\n<br />\n<strong>15. Miscelleneous</strong><br />\n<br />\nNo general terms and conditions of either Party or any third party shall apply to this Agreement.<br />\n<br />\nAny notice required or permitted to be given by either Party under this Agreement, shall be in writing and may be delivered by hand, by courier, sent by registered airmail letter, fax or electronic mail. Any notice shall be deemed to have been received when actually delivered or<br />\n&nbsp;<br />\nI.&nbsp;&nbsp; &nbsp;when left at the address of the recipient, receipt confirmed;<br />\n<br />\nII.&nbsp;&nbsp; &nbsp;five (5) days after the date of posting it with ordinary mail; or<br />\n<br />\nIII.&nbsp;&nbsp; &nbsp;where sent by email or fax, on the day following receipt by the sender of an email confirmation or fax transmission report, generated by the machine (or computer) from which the notice was sent, indicating that the notice was sent in its entirety to the recipient’s email address or fax number, as applicable. Any notices shall be sent to the contact details specified in the Service Order.<br />\n<br />\n<br />\n<strong>16. Governing law and settlements of dispute</strong><br />\n<br />\nThe Agreement shall be governed by and construed in accordance with the laws of Sweden. Any dispute, controversy or claim arising out of or in connection with the Agreement shall be finally settled through arbitration under the Rules of the Arbitration Institute of the Stockholm Chamber of Commerce by three (3) arbitrators appointed in accordance with the said Rules.<br />\n<br />\nThe place of the arbitration proceedings shall be Stockholm, and the language of the proceeding shall be English.<br />\n<br />\n<br />\n<strong>17. Severability</strong><br />\n<br />\nEach provision of the Agreement is construed in such a manner as to be effective and valid under the substantive laws of Sweden. Should, however, any provision notwithstanding this, by action of law or for any other reason, be held to be prohibited or invalid in any relevant jurisdiction, the remaining provisions of this Agreement shall, provided that the contractual state of equilibrium between the Parties is not materially distorted as a result of such prohibition or invalidity, remain in full force and effect.<br />\n<br />\nShould the contractual state of equilibrium between the Parties not be materially distorted as a result of a prohibition or invalidity of any provision of this Agreement, the Parties shall promptly agree upon an alternative provision having an effect as similar as possible to the effect of the<br />\nprohibited or invalid provision.<br />\n<br />\nShould the contractual state of equilibrium between the Parties be materially distorted as a result of the prohibition or invalidity of any provision of the Agreement, the Party not favored by such prohibition or invalidity shall<br />\nhave the right to terminate this Agreement with immediate effect.<br />\n<br />\n<br />\n<strong>18. Entire agreement</strong><br />\n<br />\nThis Agreement constitutes the entire agreement between the Parties with respect to the subject matter hereof and supersedes all previous negotiations, proposals, commitments, writings, oral statements, and understanding of any nature whatsoever.<br />\n<br />\n<br />\n<strong>19. Modification of agreement</strong><br />\n<br />\nNo modification, amendment or other change may be made to the Agreement or any part thereof unless reduced to writing and executed by authorized representatives<br />\nof both Parties.&nbsp;<br />\n<br />\n<br />\n<br />\n<br />\n&nbsp;",
"3": null,
"4": null
};
var preview = window.open("", "", "height=700,width=800,scrollbars=yes,resizable=yes,toolbar=no,status=no,menu=no,titlebar=no,location=no,addressbar=no");
var html = "<head><meta charset=\"UTF-8\"><style>body {margin: 0; padding: 20px;color: #333;font-family: Helvetica;font-size: 14px;}</style></head><body>" + terms[id] + "</body>";
preview.document.write(html);
}
</script>
<form id="up-form" name="form_9549u4d6655796cf741c5aab400e441c49e50" action="https://power.upsales.com/api/external/formSubmit" method="POST">
  <div class="column-two">
    <div class="form-field">
      <input maxlength="512" type="text" placeholder="" id="up-firstname-input" autocomplete="given-name" name="Contact.firstname" required="required">
      <label for="name"><i class="fas fa-user"></i>&nbsp;&nbsp;&nbsp;First name</label>
    </div>
    <div class="form-field">
      <input maxlength="512" type="text" placeholder="" id="up-lastname-input" autocomplete="family-name" name="Contact.lastname" required="required">
      <label for="name"><i class="fas fa-user"></i>&nbsp;&nbsp;&nbsp;Last name</label>
    </div>
  </div>
  <div class="column-two">
    <div class="active-input form-field">
      <input maxlength="512" type="text" placeholder="" name="Contact.cellPhone">
      <label for="phone"><i class="fas fa-mobile-screen-button"></i>&nbsp;&nbsp;&nbsp;Mobile phone</label>
    </div>
    <div class="email form-field">
      <input maxlength="512" type="email" placeholder="" pattern="^[a-zA-Z0-9.!#$%&amp;’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+){1,}$" title="Please enter a valid email" id="up-email-input" autocomplete="email" name="Contact.email" required="required">
      <label for="email"><i class="fas fa-envelope"></i>&nbsp;&nbsp;&nbsp;Email</label>
    </div>
  </div>
  <div class="form-field">
    <input maxlength="512" type="text" placeholder="" id="up-client-name-input" autocomplete="organization" name="Client.name" required="required">
    <label for="organization"><i class="fas fa-briefcase"></i>&nbsp;&nbsp;&nbsp;Company</label>
  </div>
  <!-- REQUIRED FIELDS -->
  <input type="hidden" name="formCid" value="9549">
  <input type="hidden" name="formId" value="9549u4d6655796cf741c5aab400e441c49e50">
  <input type="hidden" name="isFrame" value="false">
  <input type="text" value="" name="validation" style="display: none;">
  <!-- END OF REQUIRED FIELDS -->
  <div class="submit-button"><button class="button pt-1 pb-1" type="submit">Start onboarding</button></div>
</form>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.1/css/intlTelInput.css" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.1/js/intlTelInput.min.js"></script>
<script>
  (function () {
    var phoneFields = document.querySelectorAll('input[name*=phone], input[name*=Phone]');
    Array.prototype.forEach.call(phoneFields, function (el) {
      window.hasPhoneFields = true;

      el.iti = window.intlTelInput(el, {
        preferredCountries: [],
        initialCountry: 'auto',
        utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.1/js/utils.js',
        geoIpLookup: function (success) {
          var xhr = new XMLHttpRequest();
          xhr.open('GET', 'https://power.upsales.com/api/external/whereAmI');
          xhr.onload = function () {
            try {
              if (xhr.status !== 200) return success('');
              var txt = xhr.responseText || '';
            // Om endpointen ibland returnerar en HTML-sida, baila ut
              if (txt.includes('no-js')) return success('');
              var data = JSON.parse(txt);
            // Anpassa till vad API:t faktiskt returnerar:
            // ex: { data: "SE" } eller { countryCode: "SE" }
              var cc = (data && (data.data || data.countryCode || '')).toString().toLowerCase();
              success(cc || '');
            } catch (e) {
              success('');
            }
          };
          xhr.onerror = function(){ success(''); };
          xhr.send();
        }
      });
    });
  })();
</script>
<script>
  !function(){var t=document.getElementById("up-form");t&&t.addEventListener("submit",function(t){var e=t.target.querySelector("button[type=submit]");e&&(e.disabled=!0)})}();
</script>
<script>
  function onSubmit(e){var t;"function"!=typeof window._bEmValid||!0===window.__validEmail?validateForm(e,"https://www.safespring.com/container-thanks/"):(e.preventDefault(),t=setInterval(function(){void 0!==window.__validEmail&&(clearInterval(t),!0===window.__validEmail)&&validateForm(e,"https://www.safespring.com/container-thanks/")},300))}function validateForm(e,t){e.preventDefault();e=document.getElementsByName("formId")[0].value;for(var n=(e=document.forms["form_"+e]).querySelectorAll("input, textarea, select"),o=0;o<n.length;o++)"text"===n[o].type&&(n[o].value=n[o].value.trim());var a=e.querySelectorAll("input[name*=phone], input[name*=Phone]");if([].forEach.call(a,function(e){e.iti&&(e.value=e.iti.getNumber())}),void 0===window.grecaptcha||""!==window.grecaptcha.getResponse()){var l=[];for(o=0;o<n.length;o++)"checkbox"===n[o].type?l.push(n[o].name+"="+encodeURIComponent(n[o].checked?n[o].value:"off")):l.push(n[o].name+"="+encodeURIComponent(n[o].value));a=l.join("&");var s=(a+="&isAjax=true",window._paq||null),i=new XMLHttpRequest;i.open("POST",e.action),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(a),i.onload=function(){var e,n;200===i.status?t?(s&&s.push&&s.push(["trackLink","https://post.upsales.com/"+i.responseText,"link"]),"undefined"!=typeof _uaq&&_uaq("form="+i.responseText),setTimeout(function(){window.top.location.href=t},333)):(e=document.getElementById("up-form"),n=document.getElementById("up-form-thanks"),e.style.display="none",n.style.display="block",s&&s.push&&s.push(["trackLink","https://post.upsales.com/"+i.responseText,"link"]),_uaq&&_uaq("form="+i.responseText)):console.log("AJAX ERROR",i.status)}}else e=document.getElementById("recaptcha-error"),a=document.getElementsByClassName("g-recaptcha"),e.style.display="none",a&&a.length&&console.log("handle this later")}var form=document.getElementById("up-form");form.addEventListener("submit",onSubmit);
</script>
</div>
</div>





<article class="card" id="tabsBox" aria-label="Tabbed content">
  <header class="header">
    <div class="panel-row" role="tablist" aria-label="Sections">
      <h2 class="title" id="boxTitle">Overview</h2>

      <div class="tabs" id="tabs">
        <button class="tab is-active" id="tab-1" role="tab" aria-selected="true" aria-controls="panel-1" tabindex="0">Overview</button>
        <button class="tab" id="tab-2" role="tab" aria-selected="false" aria-controls="panel-2" tabindex="-1">Features</button>
        <button class="tab" id="tab-3" role="tab" aria-selected="false" aria-controls="panel-3" tabindex="-1">Pricing</button>
        <span class="indicator" aria-hidden="true"></span>
      </div>
    </div>
  </header>

  <!-- Fixed-height stage; panels are stacked and cross-faded -->
  <section class="stage" id="stage">
    <div class="tab-panel is-active" id="panel-1" role="tabpanel" aria-labelledby="tab-1">
      <h3>Secure, simple, self-service</h3>
      <p>Spin up clusters on demand, manage lifecycle with ease, and stay compliant with EU regulations.</p> 
      <ul><li>You own the cluster,</li><li>We manage the complexity.</li></ul>
    </div>

    <div class="tab-panel" id="panel-2" role="tabpanel" aria-labelledby="tab-2" aria-hidden="true">
      <ul>
        <li>Cluster Overview
          <ul><li>Select talos Linux base (more info)</li>
            <li>Select kubernetes version (2 * Elastic Ips)</li></ul>
          </li>
          <li>Access:
            <ul><li>Base domain `*.apps.<domain>.paas.safedc.net`
              <li>Each cluster comes in isolated Openstack</li></ul>
            </li>
            <li>Project/Environment
              <ul><li>Access can be configured with IDP or by admins</li></ul>
            </li>
          </ul>
        </div>

        <div class="tab-panel" id="panel-3" role="tabpanel" aria-labelledby="tab-3" aria-hidden="true">
          <h3>Predictable pricing, no hidden costs</h3>
          <ul>
            <li><strong>Managed control plane:</strong> 4,900 SEK/month (SLA, support, guidance included).</li>
            <li><strong>Workers:</strong> pay only for chosen VM flavors. Full management available on request.</li>
          </ul><p></p>
          <p><span style="font-style:italic;">Looking for full management? For customers who want Safespring to manage both control plane and workers, a fully managed cluster can be offered on request.</p>
            <a class="cta" href="#" role="button">View license</a>
          </div>
        </section>
      </article>





      <style>
        :root{
          --ink:#0a0a0a;
          --muted:#667085;
          --line: rgba(0,0,0,.18);
          --bg-top:#ffffff;
          --bg-bottom:#E7EFF3; /* molnblå */
          --maxw:1200px;

          /* Safespring-typsnitt */
          --h-font:"Hind", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
          --p-font:"Montserrat", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        }

        .bullet-section{
          max-width: var(--maxw);
          margin: 10vw 0;
          padding: 48px 20px 64px;
        }

        .grid{
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 0;
          align-items: start;
        }

        .col{
          text-align: center;
          padding: 36px 28px 28px;
          position: relative;
          /* vertikal avdelare till vänster på kolumner 2 och 3 */
          border-left: 1px solid transparent;
        }
        .col + .col{
          border-left-color: var(--line);
        }

        .icon-wrap{
          width: 132px;
          height: 132px;
          margin: 0 auto 18px;
          border-radius: 50%;
          background: #fff;
          border: 2px solid rgba(0,0,0,.12);
          display: grid;
          place-items: center;
        }
        .icon-wrap i{
          font-size: 54px; /* triangelstorlek */
          line-height: 1;
          color: #000;
          transform: translateY(-2px); /* optisk centrering */
        }

        h3{
          margin: 10px 0 10px;
          font-family: var(--h-font);
          font-weight: 300; /* Hind Light */
          font-size: 44px;
          letter-spacing: .2px;
        }

        /* Responsiv: stapla på smala skärmar */
        @media (max-width: 900px){
          .grid{ grid-template-columns: 1fr; }
          .col{ border-left: none; padding: 28px 12px 36px; }
          .col:not(:last-child){ border-bottom: 1px solid var(--line); }
          h3{ font-size: 36px; }
          .icon-wrap{ width: 112px; height: 112px; }
          .icon-wrap i{ font-size: 48px; }
        }
      </style>
      <section class="bullet-section">
        <div class="grid">
          <!-- 1. Tailored -->
          <article class="col">
            <div class="icon-wrap" aria-hidden="true">
              <!-- Triangel: Font Awesome caret-up -->
              <i class="fa-solid fa-caret-up"></i>
            </div>
            <h3>Tailored</h3>
            <p>
              Start with a dedicated cluster that can scale with your needs, and grow
              to multiple managed clusters.
            </p>
          </article>

          <!-- 2. Compliant -->
          <article class="col">
            <div class="icon-wrap" aria-hidden="true">
              <i class="fa-solid fa-caret-up"></i>
            </div>
            <h3>Compliant</h3>
            <p>
              Safeguard data with full compliance to EU security and jurisdictional
              requirements.
            </p>
          </article>

          <!-- 3. Cloud -->
          <article class="col">
            <div class="icon-wrap" aria-hidden="true">
              <i class="fa-solid fa-caret-up"></i>
            </div>
            <h3>Cloud</h3>
            <p>
              Scale your cloud native application as your business grows with
              competitive, pay-as-you-go pricing.
            </p>
          </article>
        </div>
      </section>
      <div id="myModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <iframe src="https://next.safespring.com/apps/calendar/appointment/y7t9DxxxCTrm"></iframe>
        </div>
      </div>

      <script>
        const modal = document.getElementById("myModal");
        const btn = document.getElementById("openModal");
        const closeBtn = document.querySelector(".close");

        btn.onclick = function(e) {
          e.preventDefault();
          modal.style.display = "block";
        }

        closeBtn.onclick = function() {
          modal.style.display = "none";
        }

        window.onclick = function(e) {
          if (e.target == modal) {
            modal.style.display = "none";
          }
        }
      </script>

      <script>
        (() => {
  /* === SCROLLYTELLING NAV / CAPSULE === */
          const scrollyEl = document.querySelector('#scene');
          const stages = [...scrollyEl.querySelectorAll('.stage')];
          const callouts = [...document.querySelectorAll('.callout')];
          const arrows = [...document.querySelectorAll('.arrow')];
          const figureImg = document.querySelector('.figure img');
          const imgMap = {
            1: { src: '/img/graphics/safespring-container-platform-image-1.svg', alt: 'Control plane' },
            2: { src: '/img/graphics/safespring-container-platform-image-2.svg', alt: 'Worker nodes' },
            3: { src: '/img/graphics/safespring-container-platform-image-3.svg', alt: 'Infrastructure' }
          };

          Object.values(imgMap).forEach(({src}) => { const i = new Image(); i.src = src; });

          function activate(step){
            callouts.forEach(el => el.classList.toggle('active', +el.dataset.step === step));
            arrows.forEach(el   => el.classList.toggle('active', +el.dataset.id   === step));

            const next = imgMap[step];
            if (next && figureImg && figureImg.getAttribute('src') !== next.src) {
              figureImg.style.opacity = '0';
              requestAnimationFrame(() => {
                figureImg.src = next.src;
                figureImg.alt = next.alt;
                requestAnimationFrame(() => { figureImg.style.opacity = '1'; });
              });
            }
          }

          const links = {
            1: document.querySelector('.nav a[href="#control"]'),
            2: document.querySelector('.nav a[href="#workers"]'),
            3: document.querySelector('.nav a[href="#infra"]')
          };

          function highlight(step) {
            Object.values(links).forEach(link => link.classList.remove('active'));
            links[step]?.classList.add('active');
          }

          const io = new IntersectionObserver((entries)=>{
            entries.forEach(entry=>{
              if(entry.isIntersecting){
                const step = +entry.target.dataset.target;
                activate(step);     
                highlight(step);    
              }
            });
          },{threshold:0.55});

          stages.forEach(s => io.observe(s));
  activate(1); // initialt

  // Smooth scroll på nav-klick
  document.querySelector('.nav').addEventListener('click', (e)=>{
    const a = e.target.closest('a[href^="#"]');
    if(!a) return;
    e.preventDefault();
    const id = a.getAttribute('href').slice(1);
    const map = { control: 1, workers: 2, infra: 3 };
    const stage = document.querySelector(`.stage[data-target="${map[id]}"]`);
    stage?.scrollIntoView({behavior:'smooth', block:'start'});
  });

  /* === TABS === */
  const root = document.getElementById('tabsBox');
  if (root) {
    const title = root.querySelector('#boxTitle');
    const tabsWrap = root.querySelector('#tabs');
    const tabs = Array.from(root.querySelectorAll('.tab'));
    const panels = Array.from(root.querySelectorAll('.tab-panel'));
    const indicator = root.querySelector('.indicator');
    const stage = root.querySelector('#stage');

    let active = Math.max(0, tabs.findIndex(t => t.classList.contains('is-active')));

    function fixStageHeight(){
      const prev = panels.map(p => p.style.visibility);
      panels.forEach(p => { p.style.visibility = 'hidden'; p.classList.add('is-active'); });
      const tallest = Math.max(...panels.map(p => p.scrollHeight));
      panels.forEach((p,i) => {
        p.style.visibility = prev[i] || '';
        if (i !== active) p.classList.remove('is-active');
      });
      stage.style.height = tallest + 36 + 'px';
    }

    function placeIndicator(i){
      const t = tabs[i];
      const tb = t.getBoundingClientRect();
      const rb = tabsWrap.getBoundingClientRect();
      indicator.style.width = tb.width + 'px';
      indicator.style.transform = `translateX(${tb.left - rb.left}px)`;
    }

    function setStates(i){
      tabs.forEach((t,idx) => {
        const on = idx === i;
        t.classList.toggle('is-active', on);
        t.setAttribute('aria-selected', String(on));
        t.tabIndex = on ? 0 : -1;
      });
      panels.forEach((p,idx) => {
        const on = idx === i;
        p.classList.toggle('is-active', on);
        p.toggleAttribute('aria-hidden', !on);
      });
      title.textContent = tabs[i].textContent.trim();
    }

    function activateTab(i){
      if (i === active) return;
      const run = () => {
        setStates(i);
        placeIndicator(i);
        active = i;
      };
      if (document.startViewTransition &&
          !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.startViewTransition(run);
    } else {
      run();
    }
  }

  function initTabs(){
    fixStageHeight();
    setStates(active);
    placeIndicator(active);
  }
  window.addEventListener('load', initTabs);
  if (document.readyState === 'complete') initTabs();

  tabs.forEach((t,i) => t.addEventListener('click', () => activateTab(i)));

  tabsWrap.addEventListener('keydown', (e) => {
    const k = e.key;
    let next = active;
    if (k === 'ArrowRight' || k === 'ArrowDown'){ next = (active + 1) % tabs.length; e.preventDefault(); }
    else if (k === 'ArrowLeft' || k === 'ArrowUp'){ next = (active - 1 + tabs.length) % tabs.length; e.preventDefault(); }
    else if (k === 'Home'){ next = 0; e.preventDefault(); }
    else if (k === 'End'){ next = tabs.length - 1; e.preventDefault(); }
    if (next !== active){ tabs[next].focus(); activateTab(next); }
  });

  const ro = new ResizeObserver(() => {
    placeIndicator(active);
    fixStageHeight();
  });
  ro.observe(tabsWrap);
  ro.observe(stage);

  setTimeout(() => { placeIndicator(active); fixStageHeight(); }, 250);
  setTimeout(() => { placeIndicator(active); fixStageHeight(); }, 800);
}
})();
</script>


</body>
</html>